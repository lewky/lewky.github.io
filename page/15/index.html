<!doctype html><html lang><head><meta name=generator content="Hugo 0.111.3"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>Yulin Lewis' Blog</title><meta name=keywords content="雨临Lewis,Java,hugo,hexo,博客"><meta name=Description content="不想当写手的码农不是好咸鱼_(xз」∠)_"><meta property="og:title" content="Yulin Lewis' Blog"><meta property="og:description" content="不想当写手的码农不是好咸鱼_(xз」∠)_"><meta property="og:type" content="website"><meta property="og:url" content="https://lewky.cn/"><meta property="og:image" content="https://lewky.cn/logo.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://lewky.cn/logo.png"><meta name=twitter:title content="Yulin Lewis' Blog"><meta name=twitter:description content="不想当写手的码农不是好咸鱼_(xз」∠)_"><meta name=application-name content="雨临Lewis的博客"><meta name=apple-mobile-web-app-title content="雨临Lewis的博客"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://lewky.cn/><link rel=alternate href=/index.xml type=application/rss+xml title="Yulin Lewis' Blog"><link rel=feed href=/index.xml type=application/rss+xml title="Yulin Lewis' Blog"><link rel=stylesheet href=https://unpkg.com/normalize.css@8.0.1/normalize.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=https://unpkg.com/@fortawesome/fontawesome-free@5.13.0/css/all.min.css><link rel=stylesheet href=https://unpkg.com/animate.css@3.7.2/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"WebSite","url":"https:\/\/lewky.cn\/","author":{"@type":"Person","name":"雨临Lewis"},"description":"不想当写手的码农不是好咸鱼_(xз」∠)_","license":"This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","name":"Yulin Lewis' Blog"}</script></head><body header-desktop=fixed header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><a href=https://github.com/lewky class=github-corner target=_blank title="Follow me on GitHub" aria-label="Follow me on GitHub"><svg width="3.5rem" height="3.5rem" viewBox="0 0 250 250" style="fill:#70b7fd;color:#fff;position:absolute;top:0;border:0;left:0;transform:scale(-1,1)" aria-hidden="true"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentcolor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4l13.9-13.8C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentcolor" class="octo-body"/></svg></a><div class=header-title><a href=/ title="Yulin Lewis' Blog"><span class=header-title-pre><i class='fas fa-fw fa-atom'></i></span>雨临Lewis</a></div><div class=menu><div class=menu-inner><div class=dropdown><a href=/posts/ class="menu-item menu-more dropbtn" title=点击查看所有文章><i class='fas fa-fw fa-archive'></i> 归档</a><div class="menu-more-content dropdown-content"><a href=/categories/ title><i class='fas fa-fw fa-th'></i> 分类 </a><a href=/tags/ title><i class='fas fa-fw fa-tag'></i> 标签 </a><a href=/hot/ title=文章热度Top15><i class='fas fa-fw fa-fire'></i> 热度 </a><a href=/donation/ title=感谢打赏，老板大气~><i class='fas fa-fw fa-donate'></i> 打赏 </a><a href=/posts/d65a1577.html/ title=密码是123><i class='fas fa-fw fa-pen-nib'></i> 随笔 </a><a href=/about/ title><i class='fas fa-fw fa-at'></i> 关于</a></div></div><a class=menu-item href=/friends/ title=欢迎申请友链><i class='fas fa-fw fa-link'></i> 友链</a><div class=dropdown><a href=javascript:void(0); class="menu-item menu-more dropbtn" title=一些有意思的东东~><i class='fas fa-fw fa-fan fa-spin'></i> 趣味</a><div class="menu-more-content dropdown-content"><a href=/funny/high/ title="前方高能♂ 小心外放！" target=_blank rel=noopener><i class='fas fa-fw fa-dizzy'></i> 燥起来！ </a><a href=/funny/mikutap/ title=初音未来音乐游戏 target=_blank rel=noopener><i class='fas fa-fw fa-music'></i> 在线打碟 </a><a href=/funny/catch-the-cat/ title=逮住那只猫!><i class='fas fa-fw fa-cat'></i> 抓住猫咪</a></div></div><div class=dropdown><a href=/ class="menu-item menu-more dropbtn" title=回到首页><i class='fas fa-fw fa-atom'></i> 站点</a><div class="menu-more-content dropdown-content"><a href=/bbs/ title=来留言吧~><i class='fas fa-fw fa-comment'></i> 公告留言 </a><a href=https://seo.chinaz.com title target=_blank rel=noopener><i class='fas fa-fw fa-chart-line'></i> SEO查询 </a><a href=https://www.ping.cn/http/lewky.cn title target=_blank rel=noopener><i class='fas fa-fw fa-bezier-curve'></i> 网站测速 </a><a href=/posts/e62c38c4.html/ title><i class='fas fa-fw fa-cog fa-spin'></i> 建站日志</a></div></div><div class=dropdown><a href=javascript:void(0); class="menu-item menu-more dropbtn" title><i class='fas fa-fw fa-book'></i> 文档</a><div class="menu-more-content dropdown-content"><a href=https://gohugo.io/documentation/ title target=_blank rel=noopener><i class='fas fa-fw fa-star'></i> Hugo文档 </a><a href=https://javanote.doc.lewky.cn/ title=尚在完善中~ target=_blank rel=noopener><i class='fab fa-fw fa-java'></i> Java 笔记</a></div></div><a class=menu-item href=/search/ title=渲染搜索结果需要等待几秒钟~><i class='fas fa-fw fa-search'></i> 搜索
</a><span class="menu-item delimiter"></span>
<a href=https://www.travellings.cn/go.html target=_blank class=menu-item rel=noopener title=开往-友链接力><i class='fas fa-fw fa-subway'></i></a>
<a href=https://rssblog.vercel.app/ class=menu-item target=_blank rel=noopener title=RSSBlog><i class='fas fa-fw fa-inbox'></i></a>
<a href=https://github.com/lewky class=menu-item target=_blank rel=noopener title=GitHub><i class='fab fa-fw fa-github'></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Yulin Lewis' Blog"><span class=header-title-pre><i class='fas fa-fw fa-atom'></i></span>雨临Lewis</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=dropdown><a href=/posts/ class="menu-item menu-more dropbtn" title=点击查看所有文章><i class='fas fa-fw fa-archive'></i> 归档</a><div class="menu-more-content dropdown-content"><a href=/categories/ title><i class='fas fa-fw fa-th'></i> 分类 </a><a href=/tags/ title><i class='fas fa-fw fa-tag'></i> 标签 </a><a href=/hot/ title=文章热度Top15><i class='fas fa-fw fa-fire'></i> 热度 </a><a href=/donation/ title=感谢打赏，老板大气~><i class='fas fa-fw fa-donate'></i> 打赏 </a><a href=/posts/d65a1577.html/ title=密码是123><i class='fas fa-fw fa-pen-nib'></i> 随笔 </a><a href=/about/ title><i class='fas fa-fw fa-at'></i> 关于</a></div></div><a class=menu-item href=/friends/ title=欢迎申请友链><i class='fas fa-fw fa-link'></i> 友链</a><div class=dropdown><a href=javascript:void(0); class="menu-item menu-more dropbtn" title=一些有意思的东东~><i class='fas fa-fw fa-fan fa-spin'></i> 趣味</a><div class="menu-more-content dropdown-content"><a href=/funny/high/ title="前方高能♂ 小心外放！" target=_blank rel=noopener><i class='fas fa-fw fa-dizzy'></i> 燥起来！ </a><a href=/funny/mikutap/ title=初音未来音乐游戏 target=_blank rel=noopener><i class='fas fa-fw fa-music'></i> 在线打碟 </a><a href=/funny/catch-the-cat/ title=逮住那只猫!><i class='fas fa-fw fa-cat'></i> 抓住猫咪</a></div></div><div class=dropdown><a href=/ class="menu-item menu-more dropbtn" title=回到首页><i class='fas fa-fw fa-atom'></i> 站点</a><div class="menu-more-content dropdown-content"><a href=/bbs/ title=来留言吧~><i class='fas fa-fw fa-comment'></i> 公告留言 </a><a href=https://seo.chinaz.com title target=_blank rel=noopener><i class='fas fa-fw fa-chart-line'></i> SEO查询 </a><a href=https://www.ping.cn/http/lewky.cn title target=_blank rel=noopener><i class='fas fa-fw fa-bezier-curve'></i> 网站测速 </a><a href=/posts/e62c38c4.html/ title><i class='fas fa-fw fa-cog fa-spin'></i> 建站日志</a></div></div><div class=dropdown><a href=javascript:void(0); class="menu-item menu-more dropbtn" title><i class='fas fa-fw fa-book'></i> 文档</a><div class="menu-more-content dropdown-content"><a href=https://gohugo.io/documentation/ title target=_blank rel=noopener><i class='fas fa-fw fa-star'></i> Hugo文档 </a><a href=https://javanote.doc.lewky.cn/ title=尚在完善中~ target=_blank rel=noopener><i class='fab fa-fw fa-java'></i> Java 笔记</a></div></div><a class=menu-item href=/search/ title=渲染搜索结果需要等待几秒钟~><i class='fas fa-fw fa-search'></i> 搜索</a>
<a href=https://www.travellings.cn/go.html target=_blank class=menu-item rel=noopener title=开往-友链接力><i class='fas fa-fw fa-subway'></i></a>
<a href=https://rssblog.vercel.app/ class=menu-item target=_blank rel=noopener title=RSSBlog><i class='fas fa-fw fa-inbox'></i></a>
<a href=https://github.com/lewky class=menu-item target=_blank rel=noopener title=GitHub><i class='fab fa-fw fa-github'></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class="page home" posts><div class=home-profile><div class=home-avatar><img class=site-avatar-plug-bilibili onerror='this.src="/images/avatar-plug/png/bilibili_105.png"'>
<a href=javascript:void(0); title="Please click me~~"><img class=lazyload src=/svg/loading.min.svg data-src=/images/avatar.jpg data-srcset="/images/avatar.jpg, /images/avatar.jpg 1.5x, /images/avatar.jpg 2x" data-sizes=auto alt=/images/avatar.jpg title="Please click me~~"></a></div><h1 class=home-title>雨临Lewis的博客</h1><h2 class=home-subtitle><div id=id-1 class=typeit></div></h2><div class=links><a href=https://github.com/lewky title=GitHub target=_blank rel="noopener noreffer me"><i class="fab fa-github-alt fa-fw"></i></a><a href=https://steamcommunity.com/id/lewky233 title=Steam target=_blank rel="noopener noreffer me"><i class="fab fa-steam fa-fw"></i></a><a href=https://www.zhihu.com/people/lbf233 title=知乎 target=_blank rel="noopener noreffer me"><i data-svg-src=https://unpkg.com/simple-icons@2.14.0/icons/zhihu.svg></i></a><a href=https://space.bilibili.com/12348930 title=bilibili target=_blank rel="noopener noreffer me"><i data-svg-src=/svg/icons/bilibili.min.svg></i></a><a href=mailto:1019175915@qq.com title=Email rel=me><i class="far fa-envelope fa-fw"></i></a><a href=/index.xml title=RSS target=_blank rel="noopener noreffer me"><i class="fas fa-rss fa-fw"></i></a></div></div><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/posts/e62c38c4.html/>建站日志</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>雨临Lewis</a></span>&nbsp;<span class=post-publish>发布于 <time datetime=2018-04-24>2018-04-24</time>,
</span>&nbsp;<span class=post-publish>更新于 <time datetime=2022-02-09>2022-02-09</time>,
</span>&nbsp;<span class=post-category>收录于 <a href=/categories/%E7%94%9F%E6%B4%BB/><i class="far fa-folder fa-fw"></i>生活</a></span></div><div class=content><div class="details admonition tip open"><div class="details-summary admonition-title"><i class="icon fas fa-lightbulb fa-fw"></i>Siting Log<i class="details-icon fas fa-angle-right fa-fw"></i></div><div class=details-content><div class=admonition-content><font color=red size=4px><code>o(*￣▽￣*)ブ</code> 持续更新中 </font><i class="fas fa-sync fa-spin"></i></div></div></div><div align=center><a href=https://github.com/lewky/lewky.github.io target=_blank><img src=https://img.shields.io/github/watchers/lewky/lewky.github.io></a>
<a href=https://github.com/lewky/lewky.github.io target=_blank><img src=https://img.shields.io/github/stars/lewky/lewky.github.io></a>
<a href=https://github.com/lewky/lewky.github.io target=_blank><img src=https://img.shields.io/github/forks/lewky/lewky.github.io></a>
<a href=https://github.com/lewky/lewky.github.io target=_blank><img src="https://img.shields.io/github/last-commit/lewky/lewky.github.io?label=last%20updated"></a></div><h2 id=todo-list>TODO LIST</h2><blockquote><ul><li>开源本站主题，主题名暂定为heap</li></ul></blockquote></div><div class=post-footer><a href=/posts/e62c38c4.html/>阅读全文 »</a><div class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/%E5%BB%BA%E7%AB%99%E6%97%A5%E5%BF%97/>建站日志</a>,&nbsp;<a href=/tags/%E7%94%9F%E6%B4%BB/>生活</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/posts/6c2d7772.html/>验证邮件地址的Java正则表达式</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>雨临Lewis</a></span>&nbsp;<span class=post-publish>发布于 <time datetime=2018-04-03>2018-04-03</time>,
</span>&nbsp;<span class=post-publish>更新于 <time datetime=2018-04-03>2018-04-03</time>,
</span>&nbsp;<span class=post-category>收录于 <a href=/categories/%E5%B7%A5%E4%BD%9C%E8%AE%B0%E5%BD%95/><i class="far fa-folder fa-fw"></i>工作记录</a></span></div><div class=content><p>最近写了个Java正则表达式来验证RFC 5322规范的邮件地址，这个邮件地址比较复杂，对于这样一个地址：<code>userName@domainName</code>，它满足以下条件：</p></div><div class=post-footer><a href=/posts/6c2d7772.html/>阅读全文 »</a><div class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/java/>Java</a>,&nbsp;<a href=/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/>正则表达式</a>,&nbsp;<a href=/tags/%E5%B7%A5%E4%BD%9C%E8%AE%B0%E5%BD%95/>工作记录</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/posts/23475.html/>影评汇总</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>雨临Lewis</a></span>&nbsp;<span class=post-publish>发布于 <time datetime=2018-03-31>2018-03-31</time>,
</span>&nbsp;<span class=post-publish>更新于 <time datetime=2018-03-31>2018-03-31</time>,
</span>&nbsp;<span class=post-category>收录于 <a href=/categories/%E7%94%9F%E6%B4%BB/><i class="far fa-folder fa-fw"></i>生活</a></span></div><div class=content><h2 id=2018-03-31-ready-player-one>2018-03-31 《Ready Player One》</h2><p><figure><a class=lightgallery href=/images/posts/film/ReadyPlayerOne.jpg title=ReadyPlayerOne data-thumbnail=/images/posts/film/ReadyPlayerOne.jpg data-sub-html="<h2> </h2><p>ReadyPlayerOne</p>"><img class=lazyload src=/svg/loading.min.svg data-src=/images/posts/film/ReadyPlayerOne.jpg data-srcset="/images/posts/film/ReadyPlayerOne.jpg, /images/posts/film/ReadyPlayerOne.jpg 1.5x, /images/posts/film/ReadyPlayerOne.jpg 2x" data-sizes=auto alt=/images/posts/film/ReadyPlayerOne.jpg></a><figcaption class=image-caption>ReadyPlayerOne</figcaption></figure></p><p>这部电影国内译名又叫头号玩家、玩家一号，讲述的是在未来人们为了躲避一团糟的现实而沉迷于一个名为绿洲的现实虚拟游戏。</p></div><div class=post-footer><a href=/posts/23475.html/>阅读全文 »</a><div class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/%E5%BD%B1%E8%AF%84/>影评</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/posts/postgresql-ddl.html/>PostgreSQL - DDL操作汇总</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>雨临Lewis</a></span>&nbsp;<span class=post-publish>发布于 <time datetime=2018-02-23>2018-02-23</time>,
</span>&nbsp;<span class=post-publish>更新于 <time datetime=2022-03-18>2022-03-18</time>,
</span>&nbsp;<span class=post-category>收录于 <a href=/categories/postgresql/><i class="far fa-folder fa-fw"></i>PostgreSQL</a></span></div><div class=content><h2 id=重命名数据库>重命名数据库</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>ALTER</span><span class=w> </span><span class=k>DATABASE</span><span class=w> </span><span class=n>db_1</span><span class=w> </span><span class=k>RENAME</span><span class=w> </span><span class=k>TO</span><span class=w> </span><span class=n>db_2</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>也可以用下面的SQL：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>UPDATE</span><span class=w> </span><span class=n>pg_database</span><span class=w> </span><span class=k>SET</span><span class=w> </span><span class=n>datname</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;db_2&#39;</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>datname</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;db_1&#39;</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div></div><div class=post-footer><a href=/posts/postgresql-ddl.html/>阅读全文 »</a><div class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/%E5%B7%A5%E4%BD%9C%E8%AE%B0%E5%BD%95/>工作记录</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/posts/b226c16f.html/>特殊的空格-ASCII码值160</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>雨临Lewis</a></span>&nbsp;<span class=post-publish>发布于 <time datetime=2018-02-23>2018-02-23</time>,
</span>&nbsp;<span class=post-publish>更新于 <time datetime=2018-02-23>2018-02-23</time>,
</span>&nbsp;<span class=post-category>收录于 <a href=/categories/%E5%B7%A5%E4%BD%9C%E8%AE%B0%E5%BD%95/><i class="far fa-folder fa-fw"></i>工作记录</a></span></div><div class=content><h2 id=问题与分析>问题与分析</h2><p>最近遇到个问题，在页面的搜索框输入带有空格的字符串时，总是无法从db中搜索出来对应的数据，于是将db里的空格复制出来，发现其ASCII码值为160，这才知道，原来ASCII码中除了32之外还有160这个特殊的空格。下边是查看字符对应ASCII值的逻辑：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>final</span> <span class=kt>char</span> <span class=n>c1</span> <span class=o>=</span> <span class=sc>&#39; &#39;</span><span class=o>;</span> <span class=c1>//db里的空格
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>final</span> <span class=kt>char</span> <span class=n>c2</span> <span class=o>=</span> <span class=sc>&#39; &#39;</span><span class=o>;</span> <span class=c1>//手动输入的空格
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>((</span><span class=kt>int</span><span class=o>)</span><span class=n>c1</span><span class=o>);</span> <span class=c1>//160
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>((</span><span class=kt>int</span><span class=o>)</span><span class=n>c2</span><span class=o>);</span> <span class=c1>//32
</span></span></span></code></pre></td></tr></table></div></div></div><div class=post-footer><a href=/posts/b226c16f.html/>阅读全文 »</a><div class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/%E5%B7%A5%E4%BD%9C%E8%AE%B0%E5%BD%95/>工作记录</a>,&nbsp;<a href=/tags/%E4%B8%8D%E9%97%B4%E6%96%AD%E7%A9%BA%E6%A0%BC/>不间断空格</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/posts/postgresql-window-function/>PostgreSQL - 开窗函数汇总</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>雨临Lewis</a></span>&nbsp;<span class=post-publish>发布于 <time datetime=2018-01-22>2018-01-22</time>,
</span>&nbsp;<span class=post-publish>更新于 <time datetime=2022-03-07>2022-03-07</time>,
</span>&nbsp;<span class=post-category>收录于 <a href=/categories/postgresql/><i class="far fa-folder fa-fw"></i>PostgreSQL</a></span></div><div class=content><h2 id=和聚合函数的区别>和聚合函数的区别</h2><p>开窗函数，也叫窗口函数，一般可以用开窗函数来做一些排行之类的统计操作。开窗函数必须搭配<code>over()</code>子句作为查询的条件，否则会报错。over()子句可以用<code>partition by</code>进行分组，以及用<code>order by</code>排序。</p><p>聚合函数是将多条记录聚合为一条；而开窗函数是每条记录都会执行，有几条记录执行完还是几条，聚合函数也可以用于开窗函数中。</p></div><div class=post-footer><a href=/posts/postgresql-window-function/>阅读全文 »</a><div class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/%E5%B7%A5%E4%BD%9C%E8%AE%B0%E5%BD%95/>工作记录</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/posts/javamail.html/>JavaMail-发送一封简单邮件（附带附件）</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>雨临Lewis</a></span>&nbsp;<span class=post-publish>发布于 <time datetime=2017-11-22>2017-11-22</time>,
</span>&nbsp;<span class=post-publish>更新于 <time datetime=2021-03-17>2021-03-17</time>,
</span>&nbsp;<span class=post-category>收录于 <a href=/categories/%E5%B7%A5%E4%BD%9C%E8%AE%B0%E5%BD%95/><i class="far fa-folder fa-fw"></i>工作记录</a></span></div><div class=content><h2 id=代码实现>代码实现</h2><p>最近使用到JavaMail，写了个简单的工具类，记录一下。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>  1
</span><span class=lnt>  2
</span><span class=lnt>  3
</span><span class=lnt>  4
</span><span class=lnt>  5
</span><span class=lnt>  6
</span><span class=lnt>  7
</span><span class=lnt>  8
</span><span class=lnt>  9
</span><span class=lnt> 10
</span><span class=lnt> 11
</span><span class=lnt> 12
</span><span class=lnt> 13
</span><span class=lnt> 14
</span><span class=lnt> 15
</span><span class=lnt> 16
</span><span class=lnt> 17
</span><span class=lnt> 18
</span><span class=lnt> 19
</span><span class=lnt> 20
</span><span class=lnt> 21
</span><span class=lnt> 22
</span><span class=lnt> 23
</span><span class=lnt> 24
</span><span class=lnt> 25
</span><span class=lnt> 26
</span><span class=lnt> 27
</span><span class=lnt> 28
</span><span class=lnt> 29
</span><span class=lnt> 30
</span><span class=lnt> 31
</span><span class=lnt> 32
</span><span class=lnt> 33
</span><span class=lnt> 34
</span><span class=lnt> 35
</span><span class=lnt> 36
</span><span class=lnt> 37
</span><span class=lnt> 38
</span><span class=lnt> 39
</span><span class=lnt> 40
</span><span class=lnt> 41
</span><span class=lnt> 42
</span><span class=lnt> 43
</span><span class=lnt> 44
</span><span class=lnt> 45
</span><span class=lnt> 46
</span><span class=lnt> 47
</span><span class=lnt> 48
</span><span class=lnt> 49
</span><span class=lnt> 50
</span><span class=lnt> 51
</span><span class=lnt> 52
</span><span class=lnt> 53
</span><span class=lnt> 54
</span><span class=lnt> 55
</span><span class=lnt> 56
</span><span class=lnt> 57
</span><span class=lnt> 58
</span><span class=lnt> 59
</span><span class=lnt> 60
</span><span class=lnt> 61
</span><span class=lnt> 62
</span><span class=lnt> 63
</span><span class=lnt> 64
</span><span class=lnt> 65
</span><span class=lnt> 66
</span><span class=lnt> 67
</span><span class=lnt> 68
</span><span class=lnt> 69
</span><span class=lnt> 70
</span><span class=lnt> 71
</span><span class=lnt> 72
</span><span class=lnt> 73
</span><span class=lnt> 74
</span><span class=lnt> 75
</span><span class=lnt> 76
</span><span class=lnt> 77
</span><span class=lnt> 78
</span><span class=lnt> 79
</span><span class=lnt> 80
</span><span class=lnt> 81
</span><span class=lnt> 82
</span><span class=lnt> 83
</span><span class=lnt> 84
</span><span class=lnt> 85
</span><span class=lnt> 86
</span><span class=lnt> 87
</span><span class=lnt> 88
</span><span class=lnt> 89
</span><span class=lnt> 90
</span><span class=lnt> 91
</span><span class=lnt> 92
</span><span class=lnt> 93
</span><span class=lnt> 94
</span><span class=lnt> 95
</span><span class=lnt> 96
</span><span class=lnt> 97
</span><span class=lnt> 98
</span><span class=lnt> 99
</span><span class=lnt>100
</span><span class=lnt>101
</span><span class=lnt>102
</span><span class=lnt>103
</span><span class=lnt>104
</span><span class=lnt>105
</span><span class=lnt>106
</span><span class=lnt>107
</span><span class=lnt>108
</span><span class=lnt>109
</span><span class=lnt>110
</span><span class=lnt>111
</span><span class=lnt>112
</span><span class=lnt>113
</span><span class=lnt>114
</span><span class=lnt>115
</span><span class=lnt>116
</span><span class=lnt>117
</span><span class=lnt>118
</span><span class=lnt>119
</span><span class=lnt>120
</span><span class=lnt>121
</span><span class=lnt>122
</span><span class=lnt>123
</span><span class=lnt>124
</span><span class=lnt>125
</span><span class=lnt>126
</span><span class=lnt>127
</span><span class=lnt>128
</span><span class=lnt>129
</span><span class=lnt>130
</span><span class=lnt>131
</span><span class=lnt>132
</span><span class=lnt>133
</span><span class=lnt>134
</span><span class=lnt>135
</span><span class=lnt>136
</span><span class=lnt>137
</span><span class=lnt>138
</span><span class=lnt>139
</span><span class=lnt>140
</span><span class=lnt>141
</span><span class=lnt>142
</span><span class=lnt>143
</span><span class=lnt>144
</span><span class=lnt>145
</span><span class=lnt>146
</span><span class=lnt>147
</span><span class=lnt>148
</span><span class=lnt>149
</span><span class=lnt>150
</span><span class=lnt>151
</span><span class=lnt>152
</span><span class=lnt>153
</span><span class=lnt>154
</span><span class=lnt>155
</span><span class=lnt>156
</span><span class=lnt>157
</span><span class=lnt>158
</span><span class=lnt>159
</span><span class=lnt>160
</span><span class=lnt>161
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kn>import</span> <span class=nn>java.util.Date</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>java.util.Properties</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>javax.mail.MessagingException</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>javax.mail.Session</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>javax.mail.Transport</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>javax.mail.internet.AddressException</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>javax.mail.internet.InternetAddress</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>javax.mail.internet.MimeBodyPart</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>javax.mail.internet.MimeMessage</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>javax.mail.internet.MimeMessage.RecipientType</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>javax.mail.internet.MimeMultipart</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>JavaMailUtils</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>	<span class=c1>//连接SMTP服务器的主机名，这里以qq邮箱为例
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kd>private</span> <span class=kd>static</span> <span class=kd>final</span> <span class=n>String</span> <span class=n>SMTP_HOST</span> <span class=o>=</span> <span class=s>&#34;smtp.qq.com&#34;</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=c1>//连接的端口号，587为ssl端口，默认为25端口
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kd>private</span> <span class=kd>static</span> <span class=kd>final</span> <span class=n>String</span> <span class=n>SMTP_PORT</span> <span class=o>=</span> <span class=s>&#34;587&#34;</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=c1>//发件人
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kd>private</span> <span class=kd>static</span> <span class=kd>final</span> <span class=n>String</span> <span class=n>MAIL_FROM</span> <span class=o>=</span> <span class=s>&#34;XXX@qq.com&#34;</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=c1>//连接邮件服务器的用户名（邮箱地址去除了@qq.com的部分）
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kd>private</span> <span class=kd>static</span> <span class=kd>final</span> <span class=n>String</span> <span class=n>USER</span> <span class=o>=</span> <span class=s>&#34;XXX&#34;</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * 授权码，就是你在邮件服务器上注册的密码，不是你的qq密码
</span></span></span><span class=line><span class=cl><span class=cm>     * 在邮箱里开启smtp/imap服务时需要发送短信，成功后会得到一个授权码
</span></span></span><span class=line><span class=cl><span class=cm>     */</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=kd>static</span> <span class=kd>final</span> <span class=n>String</span> <span class=n>PASSWORD</span> <span class=o>=</span> <span class=s>&#34;授权码&#34;</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=nf>JavaMailUtils</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * send mail without attachments
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @param mailTo
</span></span></span><span class=line><span class=cl><span class=cm>     * @param mailCc
</span></span></span><span class=line><span class=cl><span class=cm>     * @param subject
</span></span></span><span class=line><span class=cl><span class=cm>     * @param content
</span></span></span><span class=line><span class=cl><span class=cm>     * @throws AddressException
</span></span></span><span class=line><span class=cl><span class=cm>     * @throws MessagingException
</span></span></span><span class=line><span class=cl><span class=cm>     */</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>sendMail</span><span class=o>(</span><span class=kd>final</span> <span class=n>String</span> <span class=n>mailTo</span><span class=o>,</span> <span class=kd>final</span> <span class=n>String</span> <span class=n>mailCc</span><span class=o>,</span> <span class=kd>final</span> <span class=n>String</span> <span class=n>subject</span><span class=o>,</span> <span class=kd>final</span> <span class=n>String</span> <span class=n>content</span><span class=o>)</span>
</span></span><span class=line><span class=cl>            <span class=kd>throws</span> <span class=n>Exception</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// get the session
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kd>final</span> <span class=n>Session</span> <span class=n>session</span> <span class=o>=</span> <span class=n>getSession</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=c1>// create a mail
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kd>final</span> <span class=n>MimeMessage</span> <span class=n>message</span> <span class=o>=</span> <span class=n>createMail</span><span class=o>(</span><span class=n>session</span><span class=o>,</span> <span class=n>mailTo</span><span class=o>,</span> <span class=n>mailCc</span><span class=o>,</span> <span class=n>subject</span><span class=o>,</span> <span class=n>content</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=c1>// get the transport
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kd>final</span> <span class=n>Transport</span> <span class=n>transport</span> <span class=o>=</span> <span class=n>session</span><span class=o>.</span><span class=na>getTransport</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=n>transport</span><span class=o>.</span><span class=na>connect</span><span class=o>(</span><span class=n>USER</span><span class=o>,</span> <span class=n>PASSWORD</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>transport</span><span class=o>.</span><span class=na>sendMessage</span><span class=o>(</span><span class=n>message</span><span class=o>,</span> <span class=n>message</span><span class=o>.</span><span class=na>getAllRecipients</span><span class=o>());</span>
</span></span><span class=line><span class=cl>        <span class=n>transport</span><span class=o>.</span><span class=na>close</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>sendMail</span><span class=o>(</span><span class=kd>final</span> <span class=n>String</span> <span class=n>mailTo</span><span class=o>,</span> <span class=kd>final</span> <span class=n>String</span> <span class=n>mailCc</span><span class=o>,</span> <span class=kd>final</span> <span class=n>String</span> <span class=n>subject</span><span class=o>,</span> <span class=kd>final</span> <span class=n>String</span> <span class=n>content</span><span class=o>,</span>
</span></span><span class=line><span class=cl>            <span class=kd>final</span> <span class=n>String</span><span class=o>[]</span> <span class=n>attachments</span><span class=o>)</span> <span class=kd>throws</span> <span class=n>Exception</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// get the session
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kd>final</span> <span class=n>Session</span> <span class=n>session</span> <span class=o>=</span> <span class=n>getSession</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=c1>// create a mail
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kd>final</span> <span class=n>MimeMessage</span> <span class=n>message</span> <span class=o>=</span> <span class=n>createMail</span><span class=o>(</span><span class=n>session</span><span class=o>,</span> <span class=n>mailTo</span><span class=o>,</span> <span class=n>mailCc</span><span class=o>,</span> <span class=n>subject</span><span class=o>,</span> <span class=n>content</span><span class=o>,</span> <span class=n>attachments</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=c1>// get the transport
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kd>final</span> <span class=n>Transport</span> <span class=n>transport</span> <span class=o>=</span> <span class=n>session</span><span class=o>.</span><span class=na>getTransport</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=n>transport</span><span class=o>.</span><span class=na>connect</span><span class=o>(</span><span class=n>USER</span><span class=o>,</span> <span class=n>PASSWORD</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>transport</span><span class=o>.</span><span class=na>sendMessage</span><span class=o>(</span><span class=n>message</span><span class=o>,</span> <span class=n>message</span><span class=o>.</span><span class=na>getAllRecipients</span><span class=o>());</span>
</span></span><span class=line><span class=cl>        <span class=n>transport</span><span class=o>.</span><span class=na>close</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * create a mail without attachments
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @param session
</span></span></span><span class=line><span class=cl><span class=cm>     * @param mailTo
</span></span></span><span class=line><span class=cl><span class=cm>     * @param mailCc
</span></span></span><span class=line><span class=cl><span class=cm>     * @param subject
</span></span></span><span class=line><span class=cl><span class=cm>     * @param content
</span></span></span><span class=line><span class=cl><span class=cm>     * @return
</span></span></span><span class=line><span class=cl><span class=cm>     * @throws Exception
</span></span></span><span class=line><span class=cl><span class=cm>     */</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=kd>static</span> <span class=n>MimeMessage</span> <span class=nf>createMail</span><span class=o>(</span><span class=kd>final</span> <span class=n>Session</span> <span class=n>session</span><span class=o>,</span> <span class=kd>final</span> <span class=n>String</span> <span class=n>mailTo</span><span class=o>,</span> <span class=kd>final</span> <span class=n>String</span> <span class=n>mailCc</span><span class=o>,</span>
</span></span><span class=line><span class=cl>            <span class=kd>final</span> <span class=n>String</span> <span class=n>subject</span><span class=o>,</span> <span class=kd>final</span> <span class=n>String</span> <span class=n>content</span><span class=o>)</span> <span class=kd>throws</span> <span class=n>Exception</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=kd>final</span> <span class=n>MimeMessage</span> <span class=n>message</span> <span class=o>=</span> <span class=k>new</span> <span class=n>MimeMessage</span><span class=o>(</span><span class=n>session</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>message</span><span class=o>.</span><span class=na>setFrom</span><span class=o>(</span><span class=k>new</span> <span class=n>InternetAddress</span><span class=o>(</span><span class=n>MAIL_FROM</span><span class=o>));</span>
</span></span><span class=line><span class=cl>        <span class=n>message</span><span class=o>.</span><span class=na>setRecipients</span><span class=o>(</span><span class=n>RecipientType</span><span class=o>.</span><span class=na>TO</span><span class=o>,</span> <span class=n>InternetAddress</span><span class=o>.</span><span class=na>parse</span><span class=o>(</span><span class=n>mailTo</span><span class=o>));</span>
</span></span><span class=line><span class=cl>        <span class=n>message</span><span class=o>.</span><span class=na>setRecipients</span><span class=o>(</span><span class=n>RecipientType</span><span class=o>.</span><span class=na>CC</span><span class=o>,</span> <span class=n>InternetAddress</span><span class=o>.</span><span class=na>parse</span><span class=o>(</span><span class=n>mailCc</span><span class=o>));</span>
</span></span><span class=line><span class=cl>        <span class=n>message</span><span class=o>.</span><span class=na>setSubject</span><span class=o>(</span><span class=n>subject</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>message</span><span class=o>.</span><span class=na>setContent</span><span class=o>(</span><span class=n>content</span><span class=o>,</span> <span class=s>&#34;text/html;charset=UTF-8&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>message</span><span class=o>.</span><span class=na>setSentDate</span><span class=o>(</span><span class=k>new</span> <span class=n>Date</span><span class=o>());</span>
</span></span><span class=line><span class=cl>        <span class=n>message</span><span class=o>.</span><span class=na>saveChanges</span><span class=o>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>message</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * create a mail with attachments
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @param session
</span></span></span><span class=line><span class=cl><span class=cm>     * @param mailTo
</span></span></span><span class=line><span class=cl><span class=cm>     * @param mailCc
</span></span></span><span class=line><span class=cl><span class=cm>     * @param subject
</span></span></span><span class=line><span class=cl><span class=cm>     * @param content
</span></span></span><span class=line><span class=cl><span class=cm>     * @param attachments
</span></span></span><span class=line><span class=cl><span class=cm>     * @return
</span></span></span><span class=line><span class=cl><span class=cm>     */</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=kd>static</span> <span class=n>MimeMessage</span> <span class=nf>createMail</span><span class=o>(</span><span class=kd>final</span> <span class=n>Session</span> <span class=n>session</span><span class=o>,</span> <span class=kd>final</span> <span class=n>String</span> <span class=n>mailTo</span><span class=o>,</span> <span class=kd>final</span> <span class=n>String</span> <span class=n>mailCc</span><span class=o>,</span>
</span></span><span class=line><span class=cl>            <span class=kd>final</span> <span class=n>String</span> <span class=n>subject</span><span class=o>,</span> <span class=kd>final</span> <span class=n>String</span> <span class=n>content</span><span class=o>,</span> <span class=kd>final</span> <span class=n>String</span><span class=o>[]</span> <span class=n>attachments</span><span class=o>)</span> <span class=kd>throws</span> <span class=n>Exception</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=kd>final</span> <span class=n>MimeMessage</span> <span class=n>message</span> <span class=o>=</span> <span class=k>new</span> <span class=n>MimeMessage</span><span class=o>(</span><span class=n>session</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>message</span><span class=o>.</span><span class=na>setFrom</span><span class=o>(</span><span class=k>new</span> <span class=n>InternetAddress</span><span class=o>(</span><span class=n>MAIL_FROM</span><span class=o>));</span>
</span></span><span class=line><span class=cl>        <span class=n>message</span><span class=o>.</span><span class=na>setRecipients</span><span class=o>(</span><span class=n>RecipientType</span><span class=o>.</span><span class=na>TO</span><span class=o>,</span> <span class=n>InternetAddress</span><span class=o>.</span><span class=na>parse</span><span class=o>(</span><span class=n>mailTo</span><span class=o>));</span>
</span></span><span class=line><span class=cl>        <span class=n>message</span><span class=o>.</span><span class=na>setRecipients</span><span class=o>(</span><span class=n>RecipientType</span><span class=o>.</span><span class=na>CC</span><span class=o>,</span> <span class=n>InternetAddress</span><span class=o>.</span><span class=na>parse</span><span class=o>(</span><span class=n>mailCc</span><span class=o>));</span>
</span></span><span class=line><span class=cl>        <span class=n>message</span><span class=o>.</span><span class=na>setSubject</span><span class=o>(</span><span class=n>subject</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=c1>// set the multipart of the mail
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kd>final</span> <span class=n>MimeMultipart</span> <span class=n>multipart</span> <span class=o>=</span> <span class=k>new</span> <span class=n>MimeMultipart</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=c1>// set content part of the mail
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kd>final</span> <span class=n>MimeBodyPart</span> <span class=n>contentPart</span> <span class=o>=</span> <span class=k>new</span> <span class=n>MimeBodyPart</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=n>contentPart</span><span class=o>.</span><span class=na>setContent</span><span class=o>(</span><span class=n>content</span><span class=o>,</span> <span class=s>&#34;text/html;charset=UTF-8&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>multipart</span><span class=o>.</span><span class=na>addBodyPart</span><span class=o>(</span><span class=n>contentPart</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=c1>// set attachment part of the mail
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kd>final</span> <span class=n>MimeBodyPart</span> <span class=n>attach1</span> <span class=o>=</span> <span class=k>new</span> <span class=n>MimeBodyPart</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=kd>final</span> <span class=n>MimeBodyPart</span> <span class=n>attach2</span> <span class=o>=</span> <span class=k>new</span> <span class=n>MimeBodyPart</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=o>(</span><span class=n>attachments</span> <span class=o>!=</span> <span class=kc>null</span> <span class=o>&amp;&amp;</span> <span class=n>attachments</span><span class=o>.</span><span class=na>length</span> <span class=o>!=</span> <span class=mi>0</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=kd>final</span> <span class=kt>int</span> <span class=n>length</span> <span class=o>=</span> <span class=n>attachments</span><span class=o>.</span><span class=na>length</span><span class=o>;</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=o>(</span><span class=n>length</span> <span class=o>==</span> <span class=mi>1</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                <span class=n>attach1</span><span class=o>.</span><span class=na>attachFile</span><span class=o>(</span><span class=n>attachments</span><span class=o>[</span><span class=mi>0</span><span class=o>]);</span>
</span></span><span class=line><span class=cl>                <span class=n>multipart</span><span class=o>.</span><span class=na>addBodyPart</span><span class=o>(</span><span class=n>attach1</span><span class=o>);</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=o>(</span><span class=n>length</span> <span class=o>==</span> <span class=mi>2</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                <span class=n>attach1</span><span class=o>.</span><span class=na>attachFile</span><span class=o>(</span><span class=n>attachments</span><span class=o>[</span><span class=mi>0</span><span class=o>]);</span>
</span></span><span class=line><span class=cl>                <span class=n>attach2</span><span class=o>.</span><span class=na>attachFile</span><span class=o>(</span><span class=n>attachments</span><span class=o>[</span><span class=mi>1</span><span class=o>]);</span>
</span></span><span class=line><span class=cl>                <span class=n>multipart</span><span class=o>.</span><span class=na>addBodyPart</span><span class=o>(</span><span class=n>attach1</span><span class=o>);</span>
</span></span><span class=line><span class=cl>                <span class=n>multipart</span><span class=o>.</span><span class=na>addBodyPart</span><span class=o>(</span><span class=n>attach2</span><span class=o>);</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=n>message</span><span class=o>.</span><span class=na>setContent</span><span class=o>(</span><span class=n>multipart</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>message</span><span class=o>.</span><span class=na>setSentDate</span><span class=o>(</span><span class=k>new</span> <span class=n>Date</span><span class=o>());</span>
</span></span><span class=line><span class=cl>        <span class=n>message</span><span class=o>.</span><span class=na>saveChanges</span><span class=o>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>message</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * get the session to transport mails
</span></span></span><span class=line><span class=cl><span class=cm>     */</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=kd>static</span> <span class=n>Session</span> <span class=nf>getSession</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// set the properties for connecting the mail server
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kd>final</span> <span class=n>Properties</span> <span class=n>props</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Properties</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=n>props</span><span class=o>.</span><span class=na>setProperty</span><span class=o>(</span><span class=s>&#34;mail.debug&#34;</span><span class=o>,</span> <span class=s>&#34;true&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>props</span><span class=o>.</span><span class=na>setProperty</span><span class=o>(</span><span class=s>&#34;mail.transport.protocol&#34;</span><span class=o>,</span> <span class=s>&#34;smtp&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>props</span><span class=o>.</span><span class=na>setProperty</span><span class=o>(</span><span class=s>&#34;mail.host&#34;</span><span class=o>,</span> <span class=n>SMTP_HOST</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>props</span><span class=o>.</span><span class=na>setProperty</span><span class=o>(</span><span class=s>&#34;mail.smtp.auth&#34;</span><span class=o>,</span> <span class=s>&#34;true&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>props</span><span class=o>.</span><span class=na>setProperty</span><span class=o>(</span><span class=s>&#34;mail.smtp.port&#34;</span><span class=o>,</span> <span class=n>SMTP_PORT</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=c1>// ssl
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>props</span><span class=o>.</span><span class=na>setProperty</span><span class=o>(</span><span class=s>&#34;mail.imap.ssl.enable&#34;</span><span class=o>,</span> <span class=s>&#34;true&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>props</span><span class=o>.</span><span class=na>setProperty</span><span class=o>(</span><span class=s>&#34;mail.imap.ssl.socketFactory.class&#34;</span><span class=o>,</span> <span class=s>&#34;DummySSLSocketFactory&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>props</span><span class=o>.</span><span class=na>setProperty</span><span class=o>(</span><span class=s>&#34;mail.imap.ssl.socketFactory.fallback&#34;</span><span class=o>,</span> <span class=s>&#34;false&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=c1>// create the session
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kd>final</span> <span class=n>Session</span> <span class=n>session</span> <span class=o>=</span> <span class=n>Session</span><span class=o>.</span><span class=na>getDefaultInstance</span><span class=o>(</span><span class=n>props</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>session</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div></div><div class=post-footer><a href=/posts/javamail.html/>阅读全文 »</a><div class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/%E5%B7%A5%E4%BD%9C%E8%AE%B0%E5%BD%95/>工作记录</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/posts/39f5b6b2.html/>cmd - 如何在bat文件中调用另一个bat文件</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>雨临Lewis</a></span>&nbsp;<span class=post-publish>发布于 <time datetime=2017-11-14>2017-11-14</time>,
</span>&nbsp;<span class=post-publish>更新于 <time datetime=2017-11-14>2017-11-14</time>,
</span>&nbsp;<span class=post-category>收录于 <a href=/categories/cmd/><i class="far fa-folder fa-fw"></i>cmd</a></span></div><div class=content><h2 id=情景一两个bat文件在同一个目录下><strong>情景一：两个bat文件在同一个目录下</strong></h2><p>有时候我们需要在一个bat文件中调用另一个bat文件，比如我们想在a.bat中调用b.bat，如下。</p><p><strong>a.bat</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>@echo off
</span></span><span class=line><span class=cl>echo I am a.bat...
</span></span><span class=line><span class=cl>echo now run the b.bat
</span></span><span class=line><span class=cl>call b.bat
</span></span><span class=line><span class=cl>echo over
</span></span></code></pre></td></tr></table></div></div></div><div class=post-footer><a href=/posts/39f5b6b2.html/>阅读全文 »</a><div class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/cmd/>cmd</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/posts/cmd-echo.html/>cmd - bat文件如何关闭回显</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>雨临Lewis</a></span>&nbsp;<span class=post-publish>发布于 <time datetime=2017-11-10>2017-11-10</time>,
</span>&nbsp;<span class=post-publish>更新于 <time datetime=2017-11-10>2017-11-10</time>,
</span>&nbsp;<span class=post-category>收录于 <a href=/categories/cmd/><i class="far fa-folder fa-fw"></i>cmd</a></span></div><div class=content><h2 id=echo命令>echo命令</h2><blockquote><p>bat文件是dos下的批处理文件，可以一次性执行多条dos命令，其扩展名为.bat或.cmd，通过双击该文件或者在cmd窗口中输入该文件名可以在cmd窗口中按文件中的顺序执行多条dos命令。</p></blockquote><p><code>echo</code>是回显命令，会将echo后的内容输出到cmd窗口中，比如在一个<code>Test.bat</code>文件中输入如下命令：</p></div><div class=post-footer><a href=/posts/cmd-echo.html/>阅读全文 »</a><div class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/cmd/>cmd</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/posts/1a76cb2d.html/>MySQL - 8小时连接闲置超时</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>雨临Lewis</a></span>&nbsp;<span class=post-publish>发布于 <time datetime=2017-10-22>2017-10-22</time>,
</span>&nbsp;<span class=post-publish>更新于 <time datetime=2017-10-22>2017-10-22</time>,
</span>&nbsp;<span class=post-category>收录于 <a href=/categories/mysql/><i class="far fa-folder fa-fw"></i>MySQL</a></span></div><div class=content><h2 id=问题与分析>问题与分析</h2><p>最近发现之前部署在阿里云的一个web项目，每过一段时间就会报错，但是刷新下页面就会显示正常；在过了比较长的一段时间后，又会报同样的错误，如下：</p></div><div class=post-footer><a href=/posts/1a76cb2d.html/>阅读全文 »</a><div class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/mysql/>MySQL</a></div></div></article><ul class=pagination><li class=page-item><span class=page-link><a href=/>1</a></span></li><li class=page-item><span class=page-link aria-hidden=true>&mldr;</span></li><li class=page-item><span class=page-link><a href=/page/13/>13</a></span></li><li class=page-item><span class=page-link><a href=/page/14/>14</a></span></li><li class="page-item active"><span class=page-link><a href=/page/15/>15</a></span></li><li class=page-item><span class=page-link><a href=/page/16/>16</a></span></li></ul></div></div></main><footer class=footer><div class=footer-container><div class=footer-line><span id=run-time></span>|
<a href=http://rssblog.vercel.app/ target=_blank rel=noopener title=RSSBlog><i class='fas fa-fw fa-inbox'></i>&nbsp;RSSBlog</a></div><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2018 - 2025</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=/ target=_blank>雨临Lewis</a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span><span class=icp-splitter>&nbsp;|&nbsp;</span><br class=icp-br><span class=icp><a target=_blank href=http://www.beian.miit.gov.cn/ style=font-weight:700>粤ICP备19103822</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title=回到顶部><i class="fas fa-arrow-up fa-fw"></i>
</a><a href=# id=view-comments class=fixed-button title=查看评论><i class="fas fa-comment fa-fw"></i></a></div><div class=sidebar_wo><div id=leimu><img src=https://lewky.cn/images/b2t/leimuA.png alt=雷姆 onmouseover='this.src="https://lewky.cn/images/b2t/leimuB.png"' onmouseout='this.src="https://lewky.cn/images/b2t/leimuA.png"' title=回到顶部></div><div class=sidebar_wo id=lamu><img src=https://lewky.cn/images/b2t/lamuA.png alt=雷姆 onmouseover='this.src="https://lewky.cn/images/b2t/lamuB.png"' onmouseout='this.src="https://lewky.cn/images/b2t/lamuA.png"' title=回到底部></div></div><link rel=stylesheet href=https://unpkg.com/lightgallery.js@1.2.0/dist/css/lightgallery.min.css><script type=text/javascript src=https://unpkg.com/smooth-scroll@16.1.3/dist/smooth-scroll.min.js></script><script type=text/javascript src=https://unpkg.com/lazysizes@5.2.2/lazysizes.min.js></script><script type=text/javascript src=https://unpkg.com/lightgallery.js@1.2.0/dist/js/lightgallery.min.js></script><script type=text/javascript src=https://unpkg.com/lg-thumbnail.js@1.2.0/dist/lg-thumbnail.min.js></script><script type=text/javascript src=https://unpkg.com/lg-zoom.js@1.2.0/dist/lg-zoom.min.js></script><script type=text/javascript src=https://unpkg.com/clipboard@2.0.6/dist/clipboard.min.js></script><script type=text/javascript src=https://unpkg.com/sharer.js@0.4.0/sharer.min.js></script><script type=text/javascript src=https://unpkg.com/typeit@7.0.4/dist/typeit.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"复制到剪贴板",maxShownLines:30},data:{"id-1":'赵子龙一身是\u003cfont color="orange"\u003e胆\u003c/font\u003e，程序猿遍体皆\u003cfont color="red"\u003e肝\u003c/font\u003e'},lightGallery:{actualSize:!1,exThumbImage:"data-thumbnail",hideBarsDelay:2e3,selector:".lightgallery",speed:400,thumbContHeight:80,thumbWidth:80,thumbnail:!0},typeit:{cursorChar:"|",cursorSpeed:1e3,data:{"id-1":["id-1"]},duration:-1,speed:100}}</script><script type=text/javascript src=/js/theme.min.js></script><script type=text/javascript src=https://unpkg.com/jquery@2.1.3/dist/jquery.min.js></script><script type=text/javascript src=https://unpkg.com/jquery-backstretch@2.1.18/jquery.backstretch.min.js></script><script>$(function(){$(".site-avatar-plug-bilibili").attr("src","https://lewky.cn/images/avatar-plug/webp/bilibili_"+(~~(25*Math.random())+1)+".webp")});var avatar_plug=0,avatar_click=1;jQuery(document).ready(function(e){var t=1,n=25;e("div.home-avatar a").click(function(){avatar_click%t===0&&(avatar_plug++,e(".site-avatar-plug-bilibili").attr("src","https://lewky.cn/images/avatar-plug/webp/bilibili_"+avatar_plug+".webp")),avatar_plug===n&&(avatar_plug=0),e("div.home-avatar a").attr("alt","再点击"+(t-avatar_click%t)+"次头像试试看~~"),avatar_click++})})</script><script>var $cdnPrefix="https://lewky.cn"</script>
<script type=text/javascript src=/js/custom.js></script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?6f278ed0fdb01edb3b1e7398379e5432",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script></body></html>