<!doctype html><html><head><meta name=generator content="Hugo 0.74.2"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>Yulin Lewis' Blog</title><meta name=keywords content="雨临Lewis,Java,hugo,hexo,博客"><meta name=Description content="不想当写手的码农不是好咸鱼_(xз」∠)_"><meta property="og:title" content="Yulin Lewis' Blog"><meta property="og:description" content="不想当写手的码农不是好咸鱼_(xз」∠)_"><meta property="og:type" content="website"><meta property="og:url" content="https://lewky.cn/"><meta property="og:image" content="https://lewky.cn/logo.png"><meta property="og:updated_time" content="2021-05-24T23:35:36+08:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://lewky.cn/logo.png"><meta name=twitter:title content="Yulin Lewis' Blog"><meta name=twitter:description content="不想当写手的码农不是好咸鱼_(xз」∠)_"><meta name=application-name content="雨临Lewis的博客"><meta name=apple-mobile-web-app-title content="雨临Lewis的博客"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://lewky.cn/><link rel=alternate href=/index.xml type=application/rss+xml title="Yulin Lewis' Blog"><link rel=feed href=/index.xml type=application/rss+xml title="Yulin Lewis' Blog"><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.13.0/css/all.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"WebSite","url":"https:\/\/lewky.cn\/","author":{"@type":"Person","name":"雨临Lewis"},"description":"不想当写手的码农不是好咸鱼_(xз」∠)_","license":"This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","name":"Yulin Lewis' Blog"}</script></head><body header-desktop=fixed header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem('theme')?localStorage.getItem('theme')==='dark':('auto'==='auto'?window.matchMedia('(prefers-color-scheme: dark)').matches:'auto'==='dark'))&&document.body.setAttribute('theme','dark');</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><a href=https://github.com/lewky class=github-corner target=_blank title="Follow me on GitHub" aria-label="Follow me on GitHub"><svg width="3.5rem" height="3.5rem" viewBox="0 0 250 250" style="fill:#70b7fd;color:#fff;position:absolute;top:0;border:0;left:0;transform:scale(-1,1)" aria-hidden="true"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentcolor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentcolor" class="octo-body"/></svg></a><div class=header-title><a href=/ title="Yulin Lewis' Blog"><span class=header-title-pre><i class="fas fa-fw fa-atom"></i></span>雨临Lewis</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/><i class="fas fa-fw fa-archive"></i>归档 </a><a class=menu-item href=/categories/><i class="fas fa-fw fa-th"></i>分类 </a><a class=menu-item href=/hot/><i class="fas fa-fw fa-fire"></i>热度 </a><a class=menu-item href=/friends/><i class="fas fa-fw fa-fan fa-spin"></i>友链 </a><a class=menu-item href=https://travellings.now.sh rel="noopener noreffer" target=_blank><i class="fas fa-fw fa-subway"></i>开往 </a><a class=menu-item href=/search/><i class="fas fa-fw fa-search"></i>搜索 </a><a href=javascript:void(0); class="menu-item language" title=更多><i class="fa fa-fw fa-angle-double-down"></i>更多
<select class=menu-more id=language-select-desktop onchange="location=this.value;">
<option class=placeholder>------</option><option value=/bbs/><i class="fas fa-fw fa-comment"></i> 公告/留言 </option><option value=https://javanote.doc.lewky.cn/><i class="fas fa-fw fa-note"></i>Java笔记 </option><option value=/tags/><i class="fas fa-fw fa-tag"></i>标签 </option><option value=/about/><i class="fas fa-fw fa-at"></i>关于 </option><option value=/posts/e62c38c4.html/><i class="fas fa-fw fa-cog"></i>建站日志</option></select>
</a><span class="menu-item delimiter"></span><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题><i class="fas fa-adjust fa-fw"></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Yulin Lewis' Blog"><span class=header-title-pre><i class="fas fa-fw fa-atom"></i></span>雨临Lewis</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a class=menu-item href=/posts/><i class="fas fa-fw fa-archive"></i>归档</a><a class=menu-item href=/categories/><i class="fas fa-fw fa-th"></i>分类</a><a class=menu-item href=/hot/><i class="fas fa-fw fa-fire"></i>热度</a><a class=menu-item href=/friends/><i class="fas fa-fw fa-fan fa-spin"></i>友链</a><a class=menu-item href=https://travellings.now.sh rel="noopener noreffer" target=_blank><i class="fas fa-fw fa-subway"></i>开往</a><a class=menu-item href=/search/><i class="fas fa-fw fa-search"></i>搜索</a><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题>
<i class="fas fa-adjust fa-fw"></i></a><a href=javascript:void(0); class="menu-item language" title=更多><i class="fa fa-angle-double-down"></i>更多
<select class=menu-more id=language-select-desktop onchange="location=this.value;">
<option class=placeholder>------</option><option value=/bbs/><i class="fas fa-fw fa-comment"></i> 公告/留言 </option><option value=https://javanote.doc.lewky.cn/><i class="fas fa-fw fa-note"></i>Java笔记 </option><option value=/tags/><i class="fas fa-fw fa-tag"></i>标签 </option><option value=/about/><i class="fas fa-fw fa-at"></i>关于 </option><option value=/posts/e62c38c4.html/><i class="fas fa-fw fa-cog"></i>建站日志</option></select></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class="page home" posts><div class=home-profile><div class=home-avatar><img class=site-avatar-plug-bilibili>
<a href=javascript:void(0); title="Please click me~~"><img class=lazyload src=/svg/loading.min.svg data-src=https://cdn.jsdelivr.net/gh/lewky/lewky.github.io@master/images/avatar.jpg data-srcset="https://cdn.jsdelivr.net/gh/lewky/lewky.github.io@master/images/avatar.jpg, https://cdn.jsdelivr.net/gh/lewky/lewky.github.io@master/images/avatar.jpg 1.5x, https://cdn.jsdelivr.net/gh/lewky/lewky.github.io@master/images/avatar.jpg 2x" data-sizes=auto alt=https://cdn.jsdelivr.net/gh/lewky/lewky.github.io@master/images/avatar.jpg title="Please click me~~"></a></div><h1 class=home-title>雨临Lewis的博客</h1><h2 class=home-subtitle><div id=id-1 class=typeit></div></h2><div class=links><a href=https://github.com/lewky title=GitHub target=_blank rel="noopener noreffer me"><i class="fab fa-github-alt fa-fw"></i></a><a href=https://steamcommunity.com/id/lewky233 title=Steam target=_blank rel="noopener noreffer me"><i class="fab fa-steam fa-fw"></i></a><a href=https://www.zhihu.com/people/lbf233 title=知乎 target=_blank rel="noopener noreffer me"><i data-svg-src=https://cdn.jsdelivr.net/npm/simple-icons@2.14.0/icons/zhihu.svg></i></a><a href=https://space.bilibili.com/12348930 title=bilibili target=_blank rel="noopener noreffer me"><i data-svg-src=/svg/icons/bilibili.min.svg></i></a><a href=mailto:1019175915@qq.com title=Email rel=me><i class="far fa-envelope fa-fw"></i></a><a href=/index.xml title=RSS target=_blank rel="noopener noreffer me"><i class="fas fa-rss fa-fw"></i></a></div></div><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/posts/5f77a7c4.html/>Eclipse问题汇总</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>雨临Lewis</a></span>&nbsp;<span class=post-publish>发布于 <time datetime=2019-01-18>2019-01-18</time>,
</span>&nbsp;<span class=post-publish>更新于 <time datetime=2021-03-19>2021-03-19</time>,
</span>&nbsp;<span class=post-category>收录于 <a href=/categories/ide%E5%B7%A5%E5%85%B7/><i class="far fa-folder fa-fw"></i>IDE工具</a></span></div><div class=content><h2 id=access-restriction-the-type-jpegcodec-is-not-api>Access restriction: The type &lsquo;JPEGCodec&rsquo; is not API</h2><p>导入项目时Eclipse报错如下：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-fallback data-lang=fallback>Access restriction: The type &#39;JPEGCodec&#39; is not API (restriction on required library &#39;C:\Program Files\Java\jdk1.8.0_191\jre\lib\rt.jar&#39;)
</code></pre></td></tr></table></div></div><p>第一次遇到这种错误，百度了下，原来是因为Eclipse默认把访问受限的API设置成了Error级别，所以才会编译报错。</p></div><div class=post-footer><a href=/posts/5f77a7c4.html/>阅读全文 »</a><div class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/ide%E5%B7%A5%E5%85%B7/>IDE工具</a>,&nbsp;<a href=/tags/eclipse/>Eclipse</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/posts/a28e251d.html/>Windows下MySQL8.0.13解压版安装教程</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>雨临Lewis</a></span>&nbsp;<span class=post-publish>发布于 <time datetime=2019-01-17>2019-01-17</time>,
</span>&nbsp;<span class=post-publish>更新于 <time datetime=2019-01-17>2019-01-17</time>,
</span>&nbsp;<span class=post-category>收录于 <a href=/categories/mysql/><i class="far fa-folder fa-fw"></i>MySQL</a></span></div><div class=content><h2 id=下载>下载</h2><p><a href=https://dev.mysql.com/downloads/mysql/ target=_blank rel="noopener noreffer">MySQL8.0.13-64位下载地址</a></p><p>在下载页面的底部，有三种安装包，第一种是MySQL的安装程序，下载完点击安装即可。
第二种是普通的压缩版，体积较小。
第三种是自带debug和测试的压缩版，体积较大。这种压缩包在网上暂时没有找到对应的安装文档说明，所以建议下载第二种压缩包，也就是普通版本的MySQL压缩包。</p></div><div class=post-footer><a href=/posts/a28e251d.html/>阅读全文 »</a><div class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/mysql/>MySQL</a>,&nbsp;<a href=/tags/%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/>安装教程</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/posts/f0ce18c5.html/>IDE工具、文本编辑器的列块编辑模式</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>雨临Lewis</a></span>&nbsp;<span class=post-publish>发布于 <time datetime=2019-01-17>2019-01-17</time>,
</span>&nbsp;<span class=post-publish>更新于 <time datetime=2019-01-17>2019-01-17</time>,
</span>&nbsp;<span class=post-category>收录于 <a href=/categories/%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6/><i class="far fa-folder fa-fw"></i>常用软件</a></span></div><div class=content><h2 id=前言>前言</h2><p>有时候需要对若干列进行一样的操作，比如在前一百行数据的最前边加上一样的字符，这时候可以通过列块编辑模式来快捷地实现这个效果。在列块编辑模式下，被选定的区域内的所有字符会被替换成你之后输入的字符。</p></div><div class=post-footer><a href=/posts/f0ce18c5.html/>阅读全文 »</a><div class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6/>常用软件</a>,&nbsp;<a href=/tags/ide%E5%B7%A5%E5%85%B7/>IDE工具</a>,&nbsp;<a href=/tags/%E5%88%97%E5%9D%97%E7%BC%96%E8%BE%91/>列块编辑</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/posts/b6b49845.html/>Git问题汇总</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>雨临Lewis</a></span>&nbsp;<span class=post-publish>发布于 <time datetime=2019-01-06>2019-01-06</time>,
</span>&nbsp;<span class=post-publish>更新于 <time datetime=2021-01-24>2021-01-24</time>,
</span>&nbsp;<span class=post-category>收录于 <a href=/categories/git/><i class="far fa-folder fa-fw"></i>Git</a></span></div><div class=content><h2 id=初次配置用户名和邮箱>初次配置用户名和邮箱</h2><p>Git在push时需要使用到user.name和user.email，一般通过命令来进行配置或修改。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-fallback data-lang=fallback>//查看user.name
git config user.name

//查看user.email
git config user.email

//配置user.name
git config --global user.name &#34;your user name&#34;

//配置user.email
git config --global user.email &#34;your user email&#34;
</code></pre></td></tr></table></div></div></div><div class=post-footer><a href=/posts/b6b49845.html/>阅读全文 »</a><div class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/git/>Git</a>,&nbsp;<a href=/tags/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6%E5%B7%A5%E5%85%B7/>版本控制工具</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/posts/8dc44b45.html/>Log4j2 - 动态生成Appender</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>雨临Lewis</a></span>&nbsp;<span class=post-publish>发布于 <time datetime=2019-01-03>2019-01-03</time>,
</span>&nbsp;<span class=post-publish>更新于 <time datetime=2019-01-03>2019-01-03</time>,
</span>&nbsp;<span class=post-category>收录于 <a href=/categories/%E6%97%A5%E5%BF%97%E6%A1%86%E6%9E%B6/><i class="far fa-folder fa-fw"></i>日志框架</a></span></div><div class=content><h2 id=功能需求>功能需求</h2><p>项目里将User分成了各个区域(domain)，这些domain有个标志domainId，现在要求在打印日志的时候，不仅将所有User的日志都打印到日志文件<code>logs/CNTCore.log</code>中，还需要另外再打印到对应domain的日志文件<code>logs/{domainId}/CNTCore.log</code>。</p><p>比如User A的domainId是<code>RD2</code>，那么除了<code>logs/CNTCore.log</code>外，还需要将该User A的日志额外打印到<code>logs/RD2/CNTCore.log</code>中。</p><h2 id=实现思路>实现思路</h2><p>将所有User的日志都打印到日志文件<code>logs/CNTCore.log</code>中，这个可以直接使用配置文件<code>log4j2.xml</code>来解决，一个简单的配置如下：</p></div><div class=post-footer><a href=/posts/8dc44b45.html/>阅读全文 »</a><div class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/log4j/>Log4j</a>,&nbsp;<a href=/tags/log4j2/>Log4j2</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/posts/d8320ac8.html/>Log4j2异常 - IllegalStateException: No factory method found for class</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>雨临Lewis</a></span>&nbsp;<span class=post-publish>发布于 <time datetime=2019-01-02>2019-01-02</time>,
</span>&nbsp;<span class=post-publish>更新于 <time datetime=2019-01-02>2019-01-02</time>,
</span>&nbsp;<span class=post-category>收录于 <a href=/categories/%E6%97%A5%E5%BF%97%E6%A1%86%E6%9E%B6/><i class="far fa-folder fa-fw"></i>日志框架</a></span></div><div class=content><h2 id=问题与分析>问题与分析</h2><p>在使用Log4j2时，虽然可以正确读取配置文件并生成log文件，但偶然发现控制台打印了异常信息如下：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-java data-lang=java><span class=n>2018</span><span class=o>-</span><span class=n>12</span><span class=o>-</span><span class=n>31</span> <span class=n>17</span><span class=o>:</span><span class=n>28</span><span class=o>:</span><span class=n>14</span><span class=o>,</span><span class=n>282</span> <span class=n>Log4j2</span><span class=o>-</span><span class=n>TF</span><span class=o>-</span><span class=n>19</span><span class=o>-</span><span class=n>ConfiguratonFileWatcher</span><span class=o>-</span><span class=n>6</span> <span class=n>ERROR</span> <span class=n>Unable</span> <span class=n>to</span> <span class=n>invoke</span> <span class=n>factory</span> <span class=n>method</span> <span class=n>in</span> <span class=kd>class</span> <span class=nc>org</span><span class=o>.</span><span class=na>apache</span><span class=o>.</span><span class=na>logging</span><span class=o>.</span><span class=na>log4j</span><span class=o>.</span><span class=na>core</span><span class=o>.</span><span class=na>appender</span><span class=o>.</span><span class=na>RollingFileAppender</span> <span class=k>for</span> <span class=n>element</span> <span class=n>RollingFile</span><span class=o>:</span> <span class=n>java</span><span class=o>.</span><span class=na>lang</span><span class=o>.</span><span class=na>IllegalStateException</span><span class=o>:</span> <span class=n>No</span> <span class=n>factory</span> <span class=n>method</span> <span class=n>found</span> <span class=k>for</span> <span class=kd>class</span> <span class=nc>org</span><span class=o>.</span><span class=na>apache</span><span class=o>.</span><span class=na>logging</span><span class=o>.</span><span class=na>log4j</span><span class=o>.</span><span class=na>core</span><span class=o>.</span><span class=na>appender</span><span class=o>.</span><span class=na>RollingFileAppender</span> <span class=n>java</span><span class=o>.</span><span class=na>lang</span><span class=o>.</span><span class=na>IllegalStateException</span><span class=o>:</span> <span class=n>No</span> <span class=n>factory</span> <span class=n>method</span> <span class=n>found</span> <span class=k>for</span> <span class=kd>class</span> <span class=nc>org</span><span class=o>.</span><span class=na>apache</span><span class=o>.</span><span class=na>logging</span><span class=o>.</span><span class=na>log4j</span><span class=o>.</span><span class=na>core</span><span class=o>.</span><span class=na>appender</span><span class=o>.</span><span class=na>RollingFileAppender</span>
        <span class=n>at</span> <span class=n>org</span><span class=o>.</span><span class=na>apache</span><span class=o>.</span><span class=na>logging</span><span class=o>.</span><span class=na>log4j</span><span class=o>.</span><span class=na>core</span><span class=o>.</span><span class=na>config</span><span class=o>.</span><span class=na>plugins</span><span class=o>.</span><span class=na>util</span><span class=o>.</span><span class=na>PluginBuilder</span><span class=o>.</span><span class=na>findFactoryMethod</span><span class=o>(</span><span class=n>PluginBuilder</span><span class=o>.</span><span class=na>java</span><span class=o>:</span><span class=n>235</span><span class=o>)</span>
        <span class=n>at</span> <span class=n>org</span><span class=o>.</span><span class=na>apache</span><span class=o>.</span><span class=na>logging</span><span class=o>.</span><span class=na>log4j</span><span class=o>.</span><span class=na>core</span><span class=o>.</span><span class=na>config</span><span class=o>.</span><span class=na>plugins</span><span class=o>.</span><span class=na>util</span><span class=o>.</span><span class=na>PluginBuilder</span><span class=o>.</span><span class=na>build</span><span class=o>(</span><span class=n>PluginBuilder</span><span class=o>.</span><span class=na>java</span><span class=o>:</span><span class=n>135</span><span class=o>)</span>
        <span class=n>at</span> <span class=n>org</span><span class=o>.</span><span class=na>apache</span><span class=o>.</span><span class=na>logging</span><span class=o>.</span><span class=na>log4j</span><span class=o>.</span><span class=na>core</span><span class=o>.</span><span class=na>config</span><span class=o>.</span><span class=na>AbstractConfiguration</span><span class=o>.</span><span class=na>createPluginObject</span><span class=o>(</span><span class=n>AbstractConfiguration</span><span class=o>.</span><span class=na>java</span><span class=o>:</span><span class=n>959</span><span class=o>)</span>
        <span class=n>at</span> <span class=n>org</span><span class=o>.</span><span class=na>apache</span><span class=o>.</span><span class=na>logging</span><span class=o>.</span><span class=na>log4j</span><span class=o>.</span><span class=na>core</span><span class=o>.</span><span class=na>config</span><span class=o>.</span><span class=na>AbstractConfiguration</span><span class=o>.</span><span class=na>createConfiguration</span><span class=o>(</span><span class=n>AbstractConfiguration</span><span class=o>.</span><span class=na>java</span><span class=o>:</span><span class=n>899</span><span class=o>)</span>
        <span class=n>at</span> <span class=n>org</span><span class=o>.</span><span class=na>apache</span><span class=o>.</span><span class=na>logging</span><span class=o>.</span><span class=na>log4j</span><span class=o>.</span><span class=na>core</span><span class=o>.</span><span class=na>config</span><span class=o>.</span><span class=na>AbstractConfiguration</span><span class=o>.</span><span class=na>createConfiguration</span><span class=o>(</span><span class=n>AbstractConfiguration</span><span class=o>.</span><span class=na>java</span><span class=o>:</span><span class=n>891</span><span class=o>)</span>
        <span class=n>at</span> <span class=n>org</span><span class=o>.</span><span class=na>apache</span><span class=o>.</span><span class=na>logging</span><span class=o>.</span><span class=na>log4j</span><span class=o>.</span><span class=na>core</span><span class=o>.</span><span class=na>config</span><span class=o>.</span><span class=na>AbstractConfiguration</span><span class=o>.</span><span class=na>doConfigure</span><span class=o>(</span><span class=n>AbstractConfiguration</span><span class=o>.</span><span class=na>java</span><span class=o>:</span><span class=n>514</span><span class=o>)</span>
        <span class=n>at</span> <span class=n>org</span><span class=o>.</span><span class=na>apache</span><span class=o>.</span><span class=na>logging</span><span class=o>.</span><span class=na>log4j</span><span class=o>.</span><span class=na>core</span><span class=o>.</span><span class=na>config</span><span class=o>.</span><span class=na>AbstractConfiguration</span><span class=o>.</span><span class=na>initialize</span><span class=o>(</span><span class=n>AbstractConfiguration</span><span class=o>.</span><span class=na>java</span><span class=o>:</span><span class=n>238</span><span class=o>)</span>
        <span class=n>at</span> <span class=n>org</span><span class=o>.</span><span class=na>apache</span><span class=o>.</span><span class=na>logging</span><span class=o>.</span><span class=na>log4j</span><span class=o>.</span><span class=na>core</span><span class=o>.</span><span class=na>config</span><span class=o>.</span><span class=na>AbstractConfiguration</span><span class=o>.</span><span class=na>start</span><span class=o>(</span><span class=n>AbstractConfiguration</span><span class=o>.</span><span class=na>java</span><span class=o>:</span><span class=n>250</span><span class=o>)</span>
        <span class=n>at</span> <span class=n>org</span><span class=o>.</span><span class=na>apache</span><span class=o>.</span><span class=na>logging</span><span class=o>.</span><span class=na>log4j</span><span class=o>.</span><span class=na>core</span><span class=o>.</span><span class=na>LoggerContext</span><span class=o>.</span><span class=na>setConfiguration</span><span class=o>(</span><span class=n>LoggerContext</span><span class=o>.</span><span class=na>java</span><span class=o>:</span><span class=n>547</span><span class=o>)</span>
        <span class=n>at</span> <span class=n>org</span><span class=o>.</span><span class=na>apache</span><span class=o>.</span><span class=na>logging</span><span class=o>.</span><span class=na>log4j</span><span class=o>.</span><span class=na>core</span><span class=o>.</span><span class=na>LoggerContext</span><span class=o>.</span><span class=na>onChange</span><span class=o>(</span><span class=n>LoggerContext</span><span class=o>.</span><span class=na>java</span><span class=o>:</span><span class=n>670</span><span class=o>)</span>
        <span class=n>at</span> <span class=n>org</span><span class=o>.</span><span class=na>apache</span><span class=o>.</span><span class=na>logging</span><span class=o>.</span><span class=na>log4j</span><span class=o>.</span><span class=na>core</span><span class=o>.</span><span class=na>config</span><span class=o>.</span><span class=na>ConfiguratonFileWatcher$ReconfigurationRunnable</span><span class=o>.</span><span class=na>run</span><span class=o>(</span><span class=n>ConfiguratonFileWatcher</span><span class=o>.</span><span class=na>java</span><span class=o>:</span><span class=n>68</span><span class=o>)</span>
        <span class=n>at</span> <span class=n>java</span><span class=o>.</span><span class=na>lang</span><span class=o>.</span><span class=na>Thread</span><span class=o>.</span><span class=na>run</span><span class=o>(</span><span class=n>Thread</span><span class=o>.</span><span class=na>java</span><span class=o>:</span><span class=n>748</span><span class=o>)</span>
</code></pre></td></tr></table></div></div></div><div class=post-footer><a href=/posts/d8320ac8.html/>阅读全文 »</a><div class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/log4j2/>Log4j2</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/posts/a5cad454.html/>Log4j2异常 - NoSuchMethodError: com.lmax.disruptor.dsl.Disruptor</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>雨临Lewis</a></span>&nbsp;<span class=post-publish>发布于 <time datetime=2019-01-02>2019-01-02</time>,
</span>&nbsp;<span class=post-publish>更新于 <time datetime=2019-01-02>2019-01-02</time>,
</span>&nbsp;<span class=post-category>收录于 <a href=/categories/%E6%97%A5%E5%BF%97%E6%A1%86%E6%9E%B6/><i class="far fa-folder fa-fw"></i>日志框架</a></span></div><div class=content><h2 id=问题>问题</h2><p>项目使用了log4j2，由于使用了全局异步打印日志的方式，还需要引入disruptor的依赖，最后使用的log4j2和disruptor的版本依赖如下：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-xml data-lang=xml><span class=nt>&lt;dependency&gt;</span>
    <span class=nt>&lt;groupId&gt;</span>org.apache.logging.log4j<span class=nt>&lt;/groupId&gt;</span>
    <span class=nt>&lt;artifactId&gt;</span>log4j-core<span class=nt>&lt;/artifactId&gt;</span>
    <span class=nt>&lt;version&gt;</span>2.11.1<span class=nt>&lt;/version&gt;</span>
<span class=nt>&lt;/dependency&gt;</span>
<span class=c>&lt;!-- log4j2 AsyncLogger need disruptor--&gt;</span>
<span class=nt>&lt;dependency&gt;</span>
    <span class=nt>&lt;groupId&gt;</span>com.lmax<span class=nt>&lt;/groupId&gt;</span>
    <span class=nt>&lt;artifactId&gt;</span>disruptor<span class=nt>&lt;/artifactId&gt;</span>
    <span class=nt>&lt;version&gt;</span>3.2.0<span class=nt>&lt;/version&gt;</span>
<span class=nt>&lt;/dependency&gt;</span>
</code></pre></td></tr></table></div></div></div><div class=post-footer><a href=/posts/a5cad454.html/>阅读全文 »</a><div class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/log4j2/>Log4j2</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/posts/55fa957a.html/>升级Log4j到Log4j2报错：cannot access org.apache.http.annotation.NotThreadSafe</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>雨临Lewis</a></span>&nbsp;<span class=post-publish>发布于 <time datetime=2018-12-28>2018-12-28</time>,
</span>&nbsp;<span class=post-publish>更新于 <time datetime=2018-12-28>2018-12-28</time>,
</span>&nbsp;<span class=post-category>收录于 <a href=/categories/%E5%B7%A5%E4%BD%9C%E8%AE%B0%E5%BD%95/><i class="far fa-folder fa-fw"></i>工作记录</a></span></div><div class=content><h2 id=问题与分析>问题与分析</h2><p>今天把项目的log4j的依赖改成了log4j2的依赖后，发现使用Maven打包时报错如下：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-fallback data-lang=fallback>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project cbx-core: Compilation failure
[ERROR] cannot access org.apache.http.annotation.NotThreadSafe
[ERROR] class file for org.apache.http.annotation.NotThreadSafe not found
</code></pre></td></tr></table></div></div></div><div class=post-footer><a href=/posts/55fa957a.html/>阅读全文 »</a><div class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/%E5%B7%A5%E4%BD%9C%E8%AE%B0%E5%BD%95/>工作记录</a>,&nbsp;<a href=/tags/log4j2/>Log4j2</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/posts/2c65baa3.html/>Log4j和Log4j2怎么动态加载配置文件</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>雨临Lewis</a></span>&nbsp;<span class=post-publish>发布于 <time datetime=2018-12-28>2018-12-28</time>,
</span>&nbsp;<span class=post-publish>更新于 <time datetime=2018-12-28>2018-12-28</time>,
</span>&nbsp;<span class=post-category>收录于 <a href=/categories/%E6%97%A5%E5%BF%97%E6%A1%86%E6%9E%B6/><i class="far fa-folder fa-fw"></i>日志框架</a></span></div><div class=content><h2 id=应用场景与问题>应用场景与问题</h2><p>当项目在运行时，我们如果需要修改log4j 1.X或者log4j2的配置文件，一般来说我们是不能直接将项目停止运行再来修改文件重新部署的。于是就有这样一个问题：如何在不停止当前项目的运行的情况下，让系统能够自动地监控配置文件的修改状况，从而实现动态加载配置文件的功能？而log4j 1.X和log4j2的差别略大，各自应该怎么实现这个功能？</p></div><div class=post-footer><a href=/posts/2c65baa3.html/>阅读全文 »</a><div class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/log4j/>Log4j</a>,&nbsp;<a href=/tags/log4j2/>Log4j2</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/posts/f53d27da.html/>Log4j2中LevelRangeFilter的注意点</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>雨临Lewis</a></span>&nbsp;<span class=post-publish>发布于 <time datetime=2018-12-22>2018-12-22</time>,
</span>&nbsp;<span class=post-publish>更新于 <time datetime=2018-12-22>2018-12-22</time>,
</span>&nbsp;<span class=post-category>收录于 <a href=/categories/%E6%97%A5%E5%BF%97%E6%A1%86%E6%9E%B6/><i class="far fa-folder fa-fw"></i>日志框架</a></span></div><div class=content><h2 id=levelrangefilter的注意点>LevelRangeFilter的注意点</h2><p>在log4j2中，LevelRangeFilter的minLevel，maxLevel的配置是和log4j 1.x相反的；minLevel需要配置的是高级别，maxLevel配置的是低级别，如下：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-xml data-lang=xml><span class=nt>&lt;LevelRangeFilter</span> <span class=na>minLevel=</span><span class=s>&#34;fatal&#34;</span> <span class=na>maxLevel=</span><span class=s>&#34;info&#34;</span> <span class=na>onMatch=</span><span class=s>&#34;ACCEPT&#34;</span> <span class=na>onMismatch=</span><span class=s>&#34;DENY&#34;</span><span class=nt>/&gt;</span>
</code></pre></td></tr></table></div></div><p>如上边的配置，是打印info到fatal级别的log，<strong>如果配置反过来，则不会输出任何log。</strong></p><p>如果不配置minLevel、maxLevel、onMatch和onMismatch的值，则会为其设置默认值，在LevelRangeFilter中的源码实现如下：</p></div><div class=post-footer><a href=/posts/f53d27da.html/>阅读全文 »</a><div class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/log4j2/>Log4j2</a></div></div></article><ul class=pagination><li class=page-item><span class=page-link><a href=/>1</a></span></li><li class=page-item><span class=page-link aria-hidden=true>&mldr;</span></li><li class=page-item><span class=page-link><a href=/page/4/>4</a></span></li><li class=page-item><span class=page-link><a href=/page/5/>5</a></span></li><li class="page-item active"><span class=page-link><a href=/page/6/>6</a></span></li><li class=page-item><span class=page-link><a href=/page/7/>7</a></span></li><li class=page-item><span class=page-link><a href=/page/8/>8</a></span></li><li class=page-item><span class=page-link aria-hidden=true>&mldr;</span></li><li class=page-item><span class=page-link><a href=/page/15/>15</a></span></li></ul></div></div></main><footer class=footer><div class=footer-container><div class=footer-line><span id=run-time></span>|
<a href=http://rssblog.vercel.app/ target=_blank rel=noopener title=RSSBlog><i class="fas fa-fw fa-inbox"></i>&nbsp;RSSBlog</a></div><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2018 - 2021</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=/ target=_blank>雨临Lewis</a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span><span class=icp-splitter>&nbsp;|&nbsp;</span><br class=icp-br><span class=icp><a target=_blank href=http://www.beian.miit.gov.cn/ style=font-weight:700>粤ICP备19103822</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title=回到顶部><i class="fas fa-arrow-up fa-fw"></i></a><a href=# id=view-comments class=fixed-button title=查看评论><i class="fas fa-comment fa-fw"></i></a></div><div class=sidebar_wo><div id=leimu><img src=https://cdn.jsdelivr.net/gh/lewky/lewky.github.io@master/images/b2t/leimuA.png alt=雷姆 onmouseover="this.src='https:\/\/cdn.jsdelivr.net\/gh\/lewky\/lewky.github.io@master/images/b2t/leimuB.png'" onmouseout="this.src='https:\/\/cdn.jsdelivr.net\/gh\/lewky\/lewky.github.io@master/images/b2t/leimuA.png'" title=回到顶部></div><div class=sidebar_wo id=lamu><img src=https://cdn.jsdelivr.net/gh/lewky/lewky.github.io@master/images/b2t/lamuA.png alt=雷姆 onmouseover="this.src='https:\/\/cdn.jsdelivr.net\/gh\/lewky\/lewky.github.io@master/images/b2t/lamuB.png'" onmouseout="this.src='https:\/\/cdn.jsdelivr.net\/gh\/lewky\/lewky.github.io@master/images/b2t/lamuA.png'" title=回到底部></div></div><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/lightgallery.js@1.2.0/dist/css/lightgallery.min.css><script type=text/javascript src=https://cdn.jsdelivr.net/npm/smooth-scroll@16.1.3/dist/smooth-scroll.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.2.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lightgallery.js@1.2.0/dist/js/lightgallery.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lg-thumbnail.js@1.2.0/dist/lg-thumbnail.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lg-zoom.js@1.2.0/dist/lg-zoom.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/sharer.js@0.4.0/sharer.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/typeit@7.0.4/dist/typeit.min.js></script><script type=text/javascript>window.config={"code":{"copyTitle":"复制到剪贴板","maxShownLines":15},"data":{"id-1":"赵子龙一身是\u003cfont color=\"orange\"\u003e胆\u003c/font\u003e，程序猿遍体皆\u003cfont color=\"red\"\u003e肝\u003c/font\u003e"},"lightGallery":{"actualSize":false,"exThumbImage":"data-thumbnail","hideBarsDelay":2000,"selector":".lightgallery","speed":400,"thumbContHeight":80,"thumbWidth":80,"thumbnail":true},"typeit":{"cursorChar":"|","cursorSpeed":1000,"data":{"id-1":["id-1"]},"duration":-1,"speed":100}};</script><script type=text/javascript src=/js/theme.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/jquery@2.1.3/dist/jquery.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/jquery-backstretch@2.1.18/jquery.backstretch.min.js></script><script>$(function(){$(".site-avatar-plug-bilibili").attr("src","https:\/\/cdn.jsdelivr.net\/gh\/lewky\/lewky.github.io@master/images/avatar-plug/bilibili_"+(~~(128*Math.random())+1)+".png");});var avatar_plug=0;var avatar_click=1;jQuery(document).ready(function($){var frequency=1;var plug_count=128;$("div.home-avatar a").click(function(e){if(avatar_click%frequency===0){avatar_plug++;$(".site-avatar-plug-bilibili").attr("src","https:\/\/cdn.jsdelivr.net\/gh\/lewky\/lewky.github.io@master/images/avatar-plug/bilibili_"+avatar_plug+".png");}
if(avatar_plug===plug_count){avatar_plug=0;}
$("div.home-avatar a").attr("alt","再点击"+(frequency-avatar_click%frequency)+"次头像试试看~~");avatar_click++;});});</script><script>var $cdnPrefix="https://cdn.jsdelivr.net/gh/lewky/lewky.github.io@master";</script><script type=text/javascript src=/js/custom.js></script><script>var _hmt=_hmt||[];(function(){var hm=document.createElement("script");hm.src="https://hm.baidu.com/hm.js?6f278ed0fdb01edb3b1e7398379e5432";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(hm,s);})();</script><div class="GalMenu GalDropDown"><div class=circle id=gal><div class=ring><a href=/ target=_blank style=background-image:url(https://cdn.jsdelivr.net/gh/lewky/lewky.github.io@master/images/rightmenu/rightmenu1.jpg) class=menuItem>首页</a><a href=/funny/mikutap/ target=_blank style=background-image:url(https://cdn.jsdelivr.net/gh/lewky/lewky.github.io@master/images/rightmenu/rightmenu2.jpg) class=menuItem>音乐游戏</a><a href=/funny/high/ target=_blank style=background-image:url(https://cdn.jsdelivr.net/gh/lewky/lewky.github.io@master/images/rightmenu/rightmenu3.jpg) class=menuItem>前方高能</a><a href=/posts/e62c38c4.html target=_blank style=background-image:url(https://cdn.jsdelivr.net/gh/lewky/lewky.github.io@master/images/rightmenu/rightmenu4.jpg) class=menuItem>建站日志</a><a href=/posts/d65a1577.html target=_blank style=background-image:url(https://cdn.jsdelivr.net/gh/lewky/lewky.github.io@master/images/rightmenu/rightmenu5.jpg) class=menuItem>随笔</a><a href=/friends/ target=_blank style=background-image:url(https://cdn.jsdelivr.net/gh/lewky/lewky.github.io@master/images/rightmenu/rightmenu6.jpg) class=menuItem>友链</a></div></div></div><script type=text/javascript>var items=document.querySelectorAll('.menuItem');for(var i=0,l=items.length;i<l;i++){items[i].style.left=(50-35*Math.cos(-0.5*Math.PI-2*(1/l)*i*Math.PI)).toFixed(4)+"%";items[i].style.top=(50+35*Math.sin(-0.5*Math.PI-2*(1/l)*i*Math.PI)).toFixed(4)+"%"}</script><link rel=stylesheet href=https://cdn.jsdelivr.net/gh/lewky/lewky.github.io@master/css/GalMenu.css><script type=text/javascript src=https://cdn.jsdelivr.net/gh/lewky/lewky.github.io@master/js/GalMenu.js></script><script type=text/javascript>$(document).ready(function(){$('body').GalMenu({'menu':'GalDropDown'})});</script></body></html>