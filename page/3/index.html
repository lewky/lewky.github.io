<!doctype html><html><head><meta name=generator content="Hugo 0.74.2"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>Yulin Lewis' Blog</title><meta name=keywords content="雨临Lewis,Java,hugo,hexo,博客"><meta name=Description content="不想当写手的码农不是好咸鱼_(xз」∠)_"><meta property="og:title" content="Yulin Lewis' Blog"><meta property="og:description" content="不想当写手的码农不是好咸鱼_(xз」∠)_"><meta property="og:type" content="website"><meta property="og:url" content="https://lewky.cn/"><meta property="og:image" content="https://lewky.cn/logo.png"><meta property="og:updated_time" content="2021-01-20T15:52:05+08:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://lewky.cn/logo.png"><meta name=twitter:title content="Yulin Lewis' Blog"><meta name=twitter:description content="不想当写手的码农不是好咸鱼_(xз」∠)_"><meta name=application-name content="雨临Lewis的博客"><meta name=apple-mobile-web-app-title content="雨临Lewis的博客"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=canonical href=https://lewky.cn/><link rel=alternate href=/index.xml type=application/rss+xml title="Yulin Lewis' Blog"><link rel=feed href=/index.xml type=application/rss+xml title="Yulin Lewis' Blog"><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.13.0/css/all.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"WebSite","url":"https:\/\/lewky.cn\/","author":{"@type":"Person","name":"雨临Lewis"},"description":"不想当写手的码农不是好咸鱼_(xз」∠)_","license":"This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","name":"Yulin Lewis' Blog"}</script></head><body header-desktop=fixed header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem('theme')?localStorage.getItem('theme')==='dark':('auto'==='auto'?window.matchMedia('(prefers-color-scheme: dark)').matches:'auto'==='dark'))&&document.body.setAttribute('theme','dark');</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><a href=https://github.com/lewky class=github-corner target=_blank title="Follow me on GitHub" aria-label="Follow me on GitHub"><svg width="3.5rem" height="3.5rem" viewBox="0 0 250 250" style="fill:#70b7fd;color:#fff;position:absolute;top:0;border:0;left:0;transform:scale(-1,1)" aria-hidden="true"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentcolor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentcolor" class="octo-body"/></svg></a><div class=header-title><a href=/ title="Yulin Lewis' Blog"><span class=header-title-pre><i class="fas fa-fw fa-atom"></i></span>雨临Lewis</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/><i class="fas fa-fw fa-archive"></i>归档 </a><a class=menu-item href=/tags/><i class="fas fa-fw fa-tag"></i>标签 </a><a class=menu-item href=/categories/><i class="fas fa-fw fa-th"></i>分类 </a><a class=menu-item href=/about/><i class="fas fa-fw fa-at"></i>关于 </a><a class=menu-item href=/friends/><i class="fas fa-fw fa-fan fa-spin"></i>友链 </a><a class=menu-item href=/search/><i class="fas fa-fw fa-search"></i>搜索 </a><span class="menu-item delimiter"></span><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题><i class="fas fa-adjust fa-fw"></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Yulin Lewis' Blog"><span class=header-title-pre><i class="fas fa-fw fa-atom"></i></span>雨临Lewis</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a class=menu-item href=/posts/><i class="fas fa-fw fa-archive"></i>归档</a><a class=menu-item href=/tags/><i class="fas fa-fw fa-tag"></i>标签</a><a class=menu-item href=/categories/><i class="fas fa-fw fa-th"></i>分类</a><a class=menu-item href=/about/><i class="fas fa-fw fa-at"></i>关于</a><a class=menu-item href=/friends/><i class="fas fa-fw fa-fan fa-spin"></i>友链</a><a class=menu-item href=/search/><i class="fas fa-fw fa-search"></i>搜索</a><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题>
<i class="fas fa-adjust fa-fw"></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class="page home" posts><div class=home-profile><div class=home-avatar><img class=site-avatar-plug-bilibili>
<a href=javascript:void(0); title="Please click me~~"><img class=lazyload src=/svg/loading.min.svg data-src=https://cdn.jsdelivr.net/gh/lewky/lewky.github.io@master/images/avatar.jpg data-srcset="https://cdn.jsdelivr.net/gh/lewky/lewky.github.io@master/images/avatar.jpg, https://cdn.jsdelivr.net/gh/lewky/lewky.github.io@master/images/avatar.jpg 1.5x, https://cdn.jsdelivr.net/gh/lewky/lewky.github.io@master/images/avatar.jpg 2x" data-sizes=auto alt=https://cdn.jsdelivr.net/gh/lewky/lewky.github.io@master/images/avatar.jpg title="Please click me~~"></a></div><h1 class=home-title>雨临Lewis的博客</h1><h2 class=home-subtitle><div id=id-1 class=typeit></div></h2><div class=links><a href=https://github.com/lewky title=GitHub target=_blank rel="noopener noreffer me"><i class="fab fa-github-alt fa-fw"></i></a><a href=https://steamcommunity.com/id/lewky233 title=Steam target=_blank rel="noopener noreffer me"><i class="fab fa-steam fa-fw"></i></a><a href=https://www.zhihu.com/people/lbf233 title=知乎 target=_blank rel="noopener noreffer me"><i data-svg-src=https://cdn.jsdelivr.net/npm/simple-icons@2.14.0/icons/zhihu.svg></i></a><a href=https://space.bilibili.com/12348930 title=bilibili target=_blank rel="noopener noreffer me"><i data-svg-src=/svg/icons/bilibili.min.svg></i></a><a href=mailto:1019175915@qq.com title=Email rel=me><i class="far fa-envelope fa-fw"></i></a><a href=/index.xml title=RSS target=_blank rel="noopener noreffer me"><i class="fas fa-rss fa-fw"></i></a></div></div><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/posts/a517d260.html/>LeetCode - 136. Single Number</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>雨临Lewis</a></span>&nbsp;<span class=post-publish>发布于 <time datetime=2019-06-07>2019-06-07</time></span>&nbsp;<span class=post-category>收录于 <a href=/categories/leetcode/><i class="far fa-folder fa-fw"></i>LeetCode</a></span></div><div class=content><h2 id=题目>题目</h2><p>Given a <strong>non-empty</strong> array of integers, every element appears twice except for one. Find that single one.</p><p><strong>Note:</strong></p><p>Your algorithm should have a linear runtime complexity. Could you implement it without using extra memory?</p></div><div class=post-footer><a href=/posts/a517d260.html/>阅读全文 »</a><div class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/java/>Java</a>,&nbsp;<a href=/tags/%E7%AC%94%E8%AF%95%E9%9D%A2%E8%AF%95%E7%AE%97%E6%B3%95%E9%A2%98/>笔试面试算法题</a>,&nbsp;<a href=/tags/leetcode/>LeetCode</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/posts/7901a0f.html/>LeetCode - 344. Reverse String</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>雨临Lewis</a></span>&nbsp;<span class=post-publish>发布于 <time datetime=2019-06-07>2019-06-07</time></span>&nbsp;<span class=post-category>收录于 <a href=/categories/leetcode/><i class="far fa-folder fa-fw"></i>LeetCode</a></span></div><div class=content><h2 id=题目>题目</h2><p>Write a function that reverses a string. The input string is given as an array of characters char[].</p><p>Do not allocate extra space for another array, you must do this by <strong>modifying the input array in-place</strong> with O(1) extra memory.</p></div><div class=post-footer><a href=/posts/7901a0f.html/>阅读全文 »</a><div class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/java/>Java</a>,&nbsp;<a href=/tags/%E7%AC%94%E8%AF%95%E9%9D%A2%E8%AF%95%E7%AE%97%E6%B3%95%E9%A2%98/>笔试面试算法题</a>,&nbsp;<a href=/tags/leetcode/>LeetCode</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/posts/985dba49.html/>LeetCode - 709. To Lower Case</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>雨临Lewis</a></span>&nbsp;<span class=post-publish>发布于 <time datetime=2019-06-07>2019-06-07</time></span>&nbsp;<span class=post-category>收录于 <a href=/categories/leetcode/><i class="far fa-folder fa-fw"></i>LeetCode</a></span></div><div class=content><h2 id=题目>题目</h2><p>Implement function ToLowerCase() that has a string parameter str, and returns the same string in lowercase.</p><p><strong>Example 1:</strong></p></div><div class=post-footer><a href=/posts/985dba49.html/>阅读全文 »</a><div class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/java/>Java</a>,&nbsp;<a href=/tags/%E7%AC%94%E8%AF%95%E9%9D%A2%E8%AF%95%E7%AE%97%E6%B3%95%E9%A2%98/>笔试面试算法题</a>,&nbsp;<a href=/tags/leetcode/>LeetCode</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/posts/a6737c60.html/>LeetCode - 771. Jewels and Stones</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>雨临Lewis</a></span>&nbsp;<span class=post-publish>发布于 <time datetime=2019-06-07>2019-06-07</time></span>&nbsp;<span class=post-category>收录于 <a href=/categories/leetcode/><i class="far fa-folder fa-fw"></i>LeetCode</a></span></div><div class=content><h2 id=题目>题目</h2><p>You&rsquo;re given strings <code>J</code> representing the types of stones that are jewels, and <code>S</code> representing the stones you have. Each character in S is a type of stone you have. You want to know how many of the stones you have are also jewels.</p><p>The letters in <code>J</code> are guaranteed distinct, and all characters in <code>J</code> and <code>S</code> are letters. Letters are case sensitive, so <code>"a"</code> is considered a different type of stone from <code>"A"</code>.</p></div><div class=post-footer><a href=/posts/a6737c60.html/>阅读全文 »</a><div class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/java/>Java</a>,&nbsp;<a href=/tags/%E7%AC%94%E8%AF%95%E9%9D%A2%E8%AF%95%E7%AE%97%E6%B3%95%E9%A2%98/>笔试面试算法题</a>,&nbsp;<a href=/tags/leetcode/>LeetCode</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/posts/b37842a8.html/>ELK系列(5) - Logstash怎么分割字符串并添加新的字段到Elasticsearch</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>雨临Lewis</a></span>&nbsp;<span class=post-publish>发布于 <time datetime=2019-05-12>2019-05-12</time></span>&nbsp;<span class=post-category>收录于 <a href=/categories/elk/><i class="far fa-folder fa-fw"></i>ELK</a></span></div><div class=content><h2 id=问题>问题</h2><p>有时候我们想要在Logstash里对收集到的日志等信息进行分割，并且将分割后的字符作为新的字符来index到Elasticsearch里。假定需求如下：</p><p>Logstash收集到的日志字段<code>message</code>的值是由多个字段拼接而成的，分隔符是<code>;,;</code>，如下：</p></div><div class=post-footer><a href=/posts/b37842a8.html/>阅读全文 »</a><div class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/elk%E7%B3%BB%E5%88%97/>ELK系列</a>,&nbsp;<a href=/tags/elasticsearch/>Elasticsearch</a>,&nbsp;<a href=/tags/logstash/>Logstash</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/posts/7784288c.html/>ELK系列(4) - Elasticsearch cannot write xcontent for unknown value of type class java.math.BigDecimal</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>雨临Lewis</a></span>&nbsp;<span class=post-publish>发布于 <time datetime=2019-05-12>2019-05-12</time></span>&nbsp;<span class=post-category>收录于 <a href=/categories/elk/><i class="far fa-folder fa-fw"></i>ELK</a></span></div><div class=content><h2 id=问题与分析>问题与分析</h2><p>在使用Elasticsearch进行index数据时，发现报错如下：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-java data-lang=java><span class=n>java</span><span class=o>.</span><span class=na>lang</span><span class=o>.</span><span class=na>IllegalArgumentException</span><span class=o>:</span> <span class=n>cannot</span> <span class=n>write</span> <span class=n>xcontent</span> <span class=k>for</span> <span class=n>unknown</span> <span class=n>value</span> <span class=n>of</span> <span class=n>type</span> <span class=kd>class</span> <span class=nc>java</span><span class=o>.</span><span class=na>math</span><span class=o>.</span><span class=na>BigDecimal</span>
	<span class=n>at</span> <span class=n>org</span><span class=o>.</span><span class=na>elasticsearch</span><span class=o>.</span><span class=na>common</span><span class=o>.</span><span class=na>xcontent</span><span class=o>.</span><span class=na>XContentBuilder</span><span class=o>.</span><span class=na>unknownValue</span><span class=o>(</span><span class=n>XContentBuilder</span><span class=o>.</span><span class=na>java</span><span class=o>:</span><span class=n>755</span><span class=o>)</span>
	<span class=n>at</span> <span class=n>org</span><span class=o>.</span><span class=na>elasticsearch</span><span class=o>.</span><span class=na>common</span><span class=o>.</span><span class=na>xcontent</span><span class=o>.</span><span class=na>XContentBuilder</span><span class=o>.</span><span class=na>value</span><span class=o>(</span><span class=n>XContentBuilder</span><span class=o>.</span><span class=na>java</span><span class=o>:</span><span class=n>726</span><span class=o>)</span>
	<span class=n>at</span> <span class=n>org</span><span class=o>.</span><span class=na>elasticsearch</span><span class=o>.</span><span class=na>common</span><span class=o>.</span><span class=na>xcontent</span><span class=o>.</span><span class=na>XContentBuilder</span><span class=o>.</span><span class=na>field</span><span class=o>(</span><span class=n>XContentBuilder</span><span class=o>.</span><span class=na>java</span><span class=o>:</span><span class=n>711</span><span class=o>)</span>
	<span class=n>at</span> <span class=n>org</span><span class=o>.</span><span class=na>elasticsearch</span><span class=o>.</span><span class=na>index</span><span class=o>.</span><span class=na>query</span><span class=o>.</span><span class=na>BaseTermQueryBuilder</span><span class=o>.</span><span class=na>doXContent</span><span class=o>(</span><span class=n>BaseTermQueryBuilder</span><span class=o>.</span><span class=na>java</span><span class=o>:</span><span class=n>154</span><span class=o>)</span>
	<span class=n>at</span> <span class=n>org</span><span class=o>.</span><span class=na>elasticsearch</span><span class=o>.</span><span class=na>index</span><span class=o>.</span><span class=na>query</span><span class=o>.</span><span class=na>AbstractQueryBuilder</span><span class=o>.</span><span class=na>toXContent</span><span class=o>(</span><span class=n>AbstractQueryBuilder</span><span class=o>.</span><span class=na>java</span><span class=o>:</span><span class=n>82</span><span class=o>)</span>
	<span class=n>at</span> <span class=n>org</span><span class=o>.</span><span class=na>elasticsearch</span><span class=o>.</span><span class=na>index</span><span class=o>.</span><span class=na>query</span><span class=o>.</span><span class=na>BoolQueryBuilder</span><span class=o>.</span><span class=na>doXArrayContent</span><span class=o>(</span><span class=n>BoolQueryBuilder</span><span class=o>.</span><span class=na>java</span><span class=o>:</span><span class=n>275</span><span class=o>)</span>
	<span class=n>at</span> <span class=n>org</span><span class=o>.</span><span class=na>elasticsearch</span><span class=o>.</span><span class=na>index</span><span class=o>.</span><span class=na>query</span><span class=o>.</span><span class=na>BoolQueryBuilder</span><span class=o>.</span><span class=na>doXContent</span><span class=o>(</span><span class=n>BoolQueryBuilder</span><span class=o>.</span><span class=na>java</span><span class=o>:</span><span class=n>256</span><span class=o>)</span>
	<span class=n>at</span> <span class=n>org</span><span class=o>.</span><span class=na>elasticsearch</span><span class=o>.</span><span class=na>index</span><span class=o>.</span><span class=na>query</span><span class=o>.</span><span class=na>AbstractQueryBuilder</span><span class=o>.</span><span class=na>toXContent</span><span class=o>(</span><span class=n>AbstractQueryBuilder</span><span class=o>.</span><span class=na>java</span><span class=o>:</span><span class=n>82</span><span class=o>)</span>
	<span class=n>at</span> <span class=n>org</span><span class=o>.</span><span class=na>elasticsearch</span><span class=o>.</span><span class=na>common</span><span class=o>.</span><span class=na>xcontent</span><span class=o>.</span><span class=na>XContentBuilder</span><span class=o>.</span><span class=na>value</span><span class=o>(</span><span class=n>XContentBuilder</span><span class=o>.</span><span class=na>java</span><span class=o>:</span><span class=n>779</span><span class=o>)</span>
	<span class=n>at</span> <span class=n>org</span><span class=o>.</span><span class=na>elasticsearch</span><span class=o>.</span><span class=na>common</span><span class=o>.</span><span class=na>xcontent</span><span class=o>.</span><span class=na>XContentBuilder</span><span class=o>.</span><span class=na>value</span><span class=o>(</span><span class=n>XContentBuilder</span><span class=o>.</span><span class=na>java</span><span class=o>:</span><span class=n>772</span><span class=o>)</span>
	<span class=n>at</span> <span class=n>org</span><span class=o>.</span><span class=na>elasticsearch</span><span class=o>.</span><span class=na>common</span><span class=o>.</span><span class=na>xcontent</span><span class=o>.</span><span class=na>XContentBuilder</span><span class=o>.</span><span class=na>field</span><span class=o>(</span><span class=n>XContentBuilder</span><span class=o>.</span><span class=na>java</span><span class=o>:</span><span class=n>764</span><span class=o>)</span>
	<span class=n>at</span> <span class=n>org</span><span class=o>.</span><span class=na>elasticsearch</span><span class=o>.</span><span class=na>search</span><span class=o>.</span><span class=na>builder</span><span class=o>.</span><span class=na>SearchSourceBuilder</span><span class=o>.</span><span class=na>toXContent</span><span class=o>(</span><span class=n>SearchSourceBuilder</span><span class=o>.</span><span class=na>java</span><span class=o>:</span><span class=n>1184</span><span class=o>)</span>
	<span class=n>at</span> <span class=n>org</span><span class=o>.</span><span class=na>elasticsearch</span><span class=o>.</span><span class=na>common</span><span class=o>.</span><span class=na>xcontent</span><span class=o>.</span><span class=na>XContentHelper</span><span class=o>.</span><span class=na>toXContent</span><span class=o>(</span><span class=n>XContentHelper</span><span class=o>.</span><span class=na>java</span><span class=o>:</span><span class=n>349</span><span class=o>)</span>
	<span class=n>at</span> <span class=n>org</span><span class=o>.</span><span class=na>elasticsearch</span><span class=o>.</span><span class=na>search</span><span class=o>.</span><span class=na>builder</span><span class=o>.</span><span class=na>SearchSourceBuilder</span><span class=o>.</span><span class=na>toString</span><span class=o>(</span><span class=n>SearchSourceBuilder</span><span class=o>.</span><span class=na>java</span><span class=o>:</span><span class=n>1558</span><span class=o>)</span>
	<span class=n>at</span> <span class=n>org</span><span class=o>.</span><span class=na>elasticsearch</span><span class=o>.</span><span class=na>search</span><span class=o>.</span><span class=na>builder</span><span class=o>.</span><span class=na>SearchSourceBuilder</span><span class=o>.</span><span class=na>toString</span><span class=o>(</span><span class=n>SearchSourceBuilder</span><span class=o>.</span><span class=na>java</span><span class=o>:</span><span class=n>1553</span><span class=o>)</span>
	<span class=n>at</span> <span class=n>java</span><span class=o>.</span><span class=na>lang</span><span class=o>.</span><span class=na>String</span><span class=o>.</span><span class=na>valueOf</span><span class=o>(</span><span class=n>String</span><span class=o>.</span><span class=na>java</span><span class=o>:</span><span class=n>2994</span><span class=o>)</span>
	<span class=n>at</span> <span class=n>java</span><span class=o>.</span><span class=na>lang</span><span class=o>.</span><span class=na>StringBuilder</span><span class=o>.</span><span class=na>append</span><span class=o>(</span><span class=n>StringBuilder</span><span class=o>.</span><span class=na>java</span><span class=o>:</span><span class=n>131</span><span class=o>)</span>
	<span class=n>at</span> <span class=n>org</span><span class=o>.</span><span class=na>elasticsearch</span><span class=o>.</span><span class=na>action</span><span class=o>.</span><span class=na>search</span><span class=o>.</span><span class=na>SearchRequest</span><span class=o>.</span><span class=na>toString</span><span class=o>(</span><span class=n>SearchRequest</span><span class=o>.</span><span class=na>java</span><span class=o>:</span><span class=n>516</span><span class=o>)</span>
</code></pre></td></tr></table></div></div></div><div class=post-footer><a href=/posts/7784288c.html/>阅读全文 »</a><div class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/elk%E7%B3%BB%E5%88%97/>ELK系列</a>,&nbsp;<a href=/tags/elasticsearch/>Elasticsearch</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/posts/7a146e10.html/>ELK系列(3) - Elasticsearch修改jvm参数</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>雨临Lewis</a></span>&nbsp;<span class=post-publish>发布于 <time datetime=2019-05-12>2019-05-12</time></span>&nbsp;<span class=post-category>收录于 <a href=/categories/elk/><i class="far fa-folder fa-fw"></i>ELK</a></span></div><div class=content><h2 id=方法>方法</h2><p>Elasticsearch默认会配置1G的JVM堆的初始值和最大值，该jvm参数被配置在<code>/config/jvm.options</code>里：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-fallback data-lang=fallback>-Xms1g
-Xmx1g
</code></pre></td></tr></table></div></div><p>如果只是个人开发小项目，可以把参数改小些，比如：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-fallback data-lang=fallback>-Xms512m
-Xmx512m
</code></pre></td></tr></table></div></div><p>这个<code>jvm.options</code>用来配置各种jvm参数，比如GC、GC logging、heap dumps等。</p></div><div class=post-footer><a href=/posts/7a146e10.html/>阅读全文 »</a><div class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/elk%E7%B3%BB%E5%88%97/>ELK系列</a>,&nbsp;<a href=/tags/elasticsearch/>Elasticsearch</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/posts/c85bbf4e.html/>ELK系列(2) - Kibana怎么修改日期格式Date format</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>雨临Lewis</a></span>&nbsp;<span class=post-publish>发布于 <time datetime=2019-05-12>2019-05-12</time></span>&nbsp;<span class=post-category>收录于 <a href=/categories/elk/><i class="far fa-folder fa-fw"></i>ELK</a></span></div><div class=content><h2 id=问题>问题</h2><p>Kibana在创建<code>Index Patterns</code>的时候，可以选择某个date类型的field作为排序字段。之后在<code>Discover</code>里打开对应的index，会发现这个date类型的field的格式显示如下：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-fallback data-lang=fallback>April 10th 2019, 17:40:32.359
</code></pre></td></tr></table></div></div><p>这是Kibana默认的日期格式，有两种修改的方式。</p></div><div class=post-footer><a href=/posts/c85bbf4e.html/>阅读全文 »</a><div class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/elk%E7%B3%BB%E5%88%97/>ELK系列</a>,&nbsp;<a href=/tags/kibana/>Kibana</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/posts/65db1615.html/>ELK系列(1) - Elasticsearch + Logstash + Kibana + Log4j2快速入门与搭建用例</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>雨临Lewis</a></span>&nbsp;<span class=post-publish>发布于 <time datetime=2019-05-11>2019-05-11</time></span>&nbsp;<span class=post-category>收录于 <a href=/categories/elk/><i class="far fa-folder fa-fw"></i>ELK</a></span></div><div class=content><h2 id=前言>前言</h2><p>最近公司分了个ELK相关的任务给我，在一边学习一边工作之余，总结下这些天来的学习历程和踩坑记录。</p><p>首先介绍下使用ELK的项目背景：在项目的数据库里有个表用来存储消息队列的消费日志，这些日志用于开发者日后的维护。每当客户端生产一条消息并发送到消息队列后，就会插入一条对应的记录到数据库里。当这条消息被消费之后，又会更新数据库里对应的记录的几个column的值，比如status、updated_on这些常用的column。</p><p>由于客户每天生产消费的消息很多，导致数据库里的这个表里的数据很多，长年累月下来，会达到数以亿计。领导决定不再把这些消费日志保存到数据库，而是改为通过Log4j2 + ELK架构把这些日志保存到Elasticsearch里。</p><h2 id=elk简介>ELK简介</h2><p>ELk是<code>Elasticsearch + Logstash + Kibana</code>的缩写，ELK一般用来收集分布式架构下各个节点的日志，并进行统一地管理。</p></div><div class=post-footer><a href=/posts/65db1615.html/>阅读全文 »</a><div class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/elk%E7%B3%BB%E5%88%97/>ELK系列</a>,&nbsp;<a href=/tags/elasticsearch/>Elasticsearch</a>,&nbsp;<a href=/tags/logstash/>Logstash</a>,&nbsp;<a href=/tags/kibana/>Kibana</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/posts/a34ffc44.html/>Java - 一道关于整型和字符类型相加的题目</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>雨临Lewis</a></span>&nbsp;<span class=post-publish>发布于 <time datetime=2019-05-11>2019-05-11</time></span>&nbsp;<span class=post-category>收录于 <a href=/categories/%E4%B8%89%E5%A4%A9%E4%B8%A4%E9%A2%98/><i class="far fa-folder fa-fw"></i>三天两题</a></span></div><div class=content><h2 id=题目>题目</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-java data-lang=java><span class=kd>public</span> <span class=kd>class</span> <span class=nc>Test</span> <span class=o>{</span>

    <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=kd>final</span> <span class=n>String</span><span class=o>[]</span> <span class=n>args</span><span class=o>)</span> <span class=o>{</span>
        <span class=kd>final</span> <span class=kt>int</span> <span class=n>a</span> <span class=o>=</span> <span class=n>10</span><span class=o>;</span>
        <span class=kd>final</span> <span class=kt>int</span> <span class=n>b</span> <span class=o>=</span> <span class=n>20</span><span class=o>;</span>
        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>a</span> <span class=o>+</span> <span class=sc>&#39;+&#39;</span> <span class=o>+</span> <span class=n>b</span> <span class=o>+</span> <span class=sc>&#39;=&#39;</span> <span class=o>+</span> <span class=o>(</span><span class=n>a</span> <span class=o>+</span> <span class=n>b</span><span class=o>));</span>
    <span class=o>}</span>
<span class=o>}</span>
</code></pre></td></tr></table></div></div></div><div class=post-footer><a href=/posts/a34ffc44.html/>阅读全文 »</a><div class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/java/>Java</a>,&nbsp;<a href=/tags/%E7%AC%94%E8%AF%95%E9%9D%A2%E8%AF%95%E7%AE%97%E6%B3%95%E9%A2%98/>笔试面试算法题</a></div></div></article><ul class=pagination><li class=page-item><span class=page-link><a href=/>1</a></span></li><li class=page-item><span class=page-link><a href=/page/2/>2</a></span></li><li class="page-item active"><span class=page-link><a href=/page/3/>3</a></span></li><li class=page-item><span class=page-link><a href=/page/4/>4</a></span></li><li class=page-item><span class=page-link><a href=/page/5/>5</a></span></li><li class=page-item><span class=page-link aria-hidden=true>&mldr;</span></li><li class=page-item><span class=page-link><a href=/page/15/>15</a></span></li></ul></div></div></main><footer class=footer><div class=footer-container><div class=footer-line>由 <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.74.2">Hugo</a> 强力驱动 | 主题 - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i>LoveIt</a></div><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2018 - 2021</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=/ target=_blank>雨临Lewis</a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span><span class=icp-splitter>&nbsp;|&nbsp;</span><br class=icp-br><span class=icp><a target=_blank href=http://www.beian.miit.gov.cn/ style=font-weight:700>粤ICP备19103822</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title=回到顶部><i class="fas fa-arrow-up fa-fw"></i></a><a href=# id=view-comments class=fixed-button title=查看评论><i class="fas fa-comment fa-fw"></i></a></div><div class=sidebar_wo><div id=leimu><img src=https://cdn.jsdelivr.net/gh/lewky/lewky.github.io@master/images/b2t/leimuA.png alt=雷姆 onmouseover="this.src='https:\/\/cdn.jsdelivr.net\/gh\/lewky\/lewky.github.io@master/images/b2t/leimuB.png'" onmouseout="this.src='https:\/\/cdn.jsdelivr.net\/gh\/lewky\/lewky.github.io@master/images/b2t/leimuA.png'" title=回到顶部></div><div class=sidebar_wo id=lamu><img src=https://cdn.jsdelivr.net/gh/lewky/lewky.github.io@master/images/b2t/lamuA.png alt=雷姆 onmouseover="this.src='https:\/\/cdn.jsdelivr.net\/gh\/lewky\/lewky.github.io@master/images/b2t/lamuB.png'" onmouseout="this.src='https:\/\/cdn.jsdelivr.net\/gh\/lewky\/lewky.github.io@master/images/b2t/lamuA.png'" title=回到底部></div></div><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/lightgallery.js@1.2.0/dist/css/lightgallery.min.css><script type=text/javascript src=https://cdn.jsdelivr.net/npm/smooth-scroll@16.1.3/dist/smooth-scroll.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.2.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lightgallery.js@1.2.0/dist/js/lightgallery.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lg-thumbnail.js@1.2.0/dist/lg-thumbnail.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lg-zoom.js@1.2.0/dist/lg-zoom.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/sharer.js@0.4.0/sharer.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/typeit@7.0.4/dist/typeit.min.js></script><script type=text/javascript>window.config={"code":{"copyTitle":"复制到剪贴板","maxShownLines":15},"data":{"id-1":"赵子龙一身是\u003cfont color=\"orange\"\u003e胆\u003c/font\u003e，程序猿遍体皆\u003cfont color=\"red\"\u003e肝\u003c/font\u003e"},"lightGallery":{"actualSize":false,"exThumbImage":"data-thumbnail","hideBarsDelay":2000,"selector":".lightgallery","speed":400,"thumbContHeight":80,"thumbWidth":80,"thumbnail":true},"typeit":{"cursorChar":"|","cursorSpeed":1000,"data":{"id-1":["id-1"]},"duration":-1,"speed":100}};</script><script type=text/javascript src=/js/theme.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/jquery@2.1.3/dist/jquery.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/jquery-backstretch@2.1.18/jquery.backstretch.min.js></script><script>$(function(){$(".site-avatar-plug-bilibili").attr("src","https:\/\/cdn.jsdelivr.net\/gh\/lewky\/lewky.github.io@master/images/avatar-plug/bilibili_"+(~~(128*Math.random())+1)+".png");});var avatar_plug=0;var avatar_click=1;jQuery(document).ready(function($){var frequency=1;var plug_count=128;$("div.home-avatar a").click(function(e){if(avatar_click%frequency===0){avatar_plug++;$(".site-avatar-plug-bilibili").attr("src","https:\/\/cdn.jsdelivr.net\/gh\/lewky\/lewky.github.io@master/images/avatar-plug/bilibili_"+avatar_plug+".png");}
if(avatar_plug===plug_count){avatar_plug=0;}
$("div.home-avatar a").attr("alt","再点击"+(frequency-avatar_click%frequency)+"次头像试试看~~");avatar_click++;});});</script><script>var $cdnPrefix="https://cdn.jsdelivr.net/gh/lewky/lewky.github.io@master";</script><script type=text/javascript src=/js/custom.js></script><script>var _hmt=_hmt||[];(function(){var hm=document.createElement("script");hm.src="https://hm.baidu.com/hm.js?6f278ed0fdb01edb3b1e7398379e5432";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(hm,s);})();</script><div class="GalMenu GalDropDown"><div class=circle id=gal><div class=ring><a href=/ target=_blank style=background-image:url(https://cdn.jsdelivr.net/gh/lewky/lewky.github.io@master/images/rightmenu/rightmenu1.jpg) class=menuItem>首页</a><a href=/funny/mikutap/ target=_blank style=background-image:url(https://cdn.jsdelivr.net/gh/lewky/lewky.github.io@master/images/rightmenu/rightmenu2.jpg) class=menuItem>音乐游戏</a><a href=/funny/high/ target=_blank style=background-image:url(https://cdn.jsdelivr.net/gh/lewky/lewky.github.io@master/images/rightmenu/rightmenu3.jpg) class=menuItem>前方高能</a><a href=/posts/e62c38c4.html target=_blank style=background-image:url(https://cdn.jsdelivr.net/gh/lewky/lewky.github.io@master/images/rightmenu/rightmenu4.jpg) class=menuItem>建站日志</a><a href=/posts/d65a1577.html target=_blank style=background-image:url(https://cdn.jsdelivr.net/gh/lewky/lewky.github.io@master/images/rightmenu/rightmenu5.jpg) class=menuItem>随笔</a><a href=/friends/ target=_blank style=background-image:url(https://cdn.jsdelivr.net/gh/lewky/lewky.github.io@master/images/rightmenu/rightmenu6.jpg) class=menuItem>友链</a></div><audio id=audio src=https://cdn.jsdelivr.net/gh/lewky/lewky.github.io@master/audio/niconiconi.mp3></audio></div></div><script type=text/javascript>var items=document.querySelectorAll('.menuItem');for(var i=0,l=items.length;i<l;i++){items[i].style.left=(50-35*Math.cos(-0.5*Math.PI-2*(1/l)*i*Math.PI)).toFixed(4)+"%";items[i].style.top=(50+35*Math.sin(-0.5*Math.PI-2*(1/l)*i*Math.PI)).toFixed(4)+"%"}</script><link rel=stylesheet href=https://cdn.jsdelivr.net/gh/lewky/lewky.github.io@master/css/GalMenu.css><script type=text/javascript src=https://cdn.jsdelivr.net/gh/lewky/lewky.github.io@master/js/GalMenu.js></script><script type=text/javascript>$(document).ready(function(){$('body').GalMenu({'menu':'GalDropDown'})});</script></body></html>