# 计算机网络基础

## IP地址

IP地址由网络号（包括子网号）和主机号组成，网络号（包括子网号）相同意味着在同一网段下。在IPv4中，IP地址是一个32位的整数，对应4个字节，通常用x.x.x.x的点式十进制方式来表示。

**主机号为全0时，代表当前网络地址；主机号为全1时，代表当前网络的广播地址。**当向某个网络的广播地址发送消息时，该网络内的所有主机都能收到该广播消息。
<!--more-->
**IP地址可以分为A，B，C，D类地址：**

A类地址以0开头，第一个字节作为网络号，地址范围为：0.0.0.0~127.255.255.255；

B类地址以10开头，前两个字节作为网络号，地址范围是：128.0.0.0~191.255.255.255;

C类地址以110开头，前三个字节作为网络号，地址范围是：192.0.0.0~223.255.255.255。

D类地址以1110开头，地址范围是224.0.0.0~239.255.255.255，D类地址作为组播地址（一对多的通信）；

E类地址以1111开头，地址范围是240.0.0.0~255.255.255.255，E类地址为保留地址，供以后使用。

**只有A,B,C有网络号和主机号之分，D类地址和E类地址没有划分网络号和主机号。**

## 255.255.255.255和0.0.0.0

广播地址通常称为直接广播地址，是为了区分受限广播地址（255.255.255.255）。

受限广播地址只能用于本地网络，路由器不会转发以受限广播地址为目的地址的分组；一般广播地址既可在本地广播，也可跨网段广播。

0.0.0.0常用于寻找自己的IP地址，例如在我们的RARP，BOOTP和DHCP协议中，若某个未知IP地址的无盘机想要知道自己的IP地址，它就以255.255.255.255为目的地址，向本地范围（具体而言是被各个路由器屏蔽的范围内）的服务器发送IP请求分组。

## 回环地址

127.0.0.0/8被用作回环地址，回环地址表示本机的地址，常用于对本机的测试，用的最多的是127.0.0.1。

这里的`/8`表示子网掩码的位数。

## A、B、C类私有地址

私有地址(private address)也叫专用地址（即内网IP），只能在局域网使用，不能直接连上互联网，必须通过公网IP（公有地址）上网。

因为IPv4协议的IP地址不够全球用户使用，所以需要私有地址来解决这个问题。比如运营商分配公网IP给某个局域网，一个局域网中的所有主机使用私有IP来识别，并通过同一个公网IP来上网。

A类私有地址：10.0.0.0/8，范围是：10.0.0.0~10.255.255.255

B类私有地址：172.16.0.0/12，范围是：172.16.0.0~172.31.255.255

C类私有地址：192.168.0.0/16，范围是：192.168.0.0~192.168.255.255

这就是为什么我们用`ipconfig`（Linux用的是`ifconfig`命令）得到的IP地址通常都是`172.`开头的B类私有地址，或者是`192.168.`开头的C类私有地址。如果百度IP，则会得到一个公网IP。

## 子网掩码

由于IPv4中网络号占位较多，导致主机号数量较少。为了解决这个问题，通过将主机号的高位再次划分为子网络号，以此形成多个子网，提供给不同规模的用户群使用。

不同子网下的主机不能直接通信，好处是缩小广播域，减少广播风暴，相对安全性能提高，出现问题也更易定位。

无论是公有地址还是私有地址，都能通过划分为多个子网。子网掩码就是用来划分子网的一个32位二进制地址，1表示网络位，0表示主机位。将一个IP地址与子网掩码进行&运算，主机号会被屏蔽（变成全0），就可以得到网络号地址。

## 网关

不同网段的网络无法直接通信，需要经过各自网络的网关来互相通信。网关实质上是一个网络通向其他网络的IP地址。

网关的IP地址是具有路由功能的设备的IP地址，具有路由功能的设备有路由器、启用了路由协议的服务器（实质上相当于一台路由器）、代理服务器（也相当于一台路由器）。网关也被称为IP路由器。

一台主机可以有多个网关。默认网关的意思是一台主机如果找不到可用的网关，就把数据包发给默认指定的网关，由这个网关来处理数据包。现在主机使用的网关，一般指的是默认网关。

## DNS服务器

DNS即域名服务器（Domain Name Server）。由于IP地址都是数字，不方便记忆，于是就有了域名。通过DNS将域名解析为对应的IP，这样就可以通过访问域名来访问到对应的IP地址。

## 参考链接

* [关于公网IP和私有IP的区别](https://blog.csdn.net/ran_Max/article/details/81177069)
* [子网的划分 和私有地址的区别和用处的不同在哪](https://zhidao.baidu.com/question/982890911725025699.html)
* [【Network】 计算机网络基础知识总结](https://www.cnblogs.com/maybe2030/p/4781555.html)
* [IP地址，子网掩码，默认网关，DNS服务器详解](https://www.cnblogs.com/JuneWang/p/3917697.html)